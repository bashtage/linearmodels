<!DOCTYPE html> <html lang=en > <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../../../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../../../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../../../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../../../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../../../_static/javascripts/modernizr.js"></script> <title>statsmodels.iolib.summary &#8212; linearmodels 4.28.dev9+g225bafdc8 documentation</title> <link rel=apple-touch-icon  sizes=180x180  href="../../../_static/icons/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="../../../_static/icons/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="../../../_static/icons/favicon-16x16.png"> <link rel=manifest  href="../../../_static/icons/site.webmanifest"> <link rel=mask-icon  href="../../../_static/icons/safari-pinned-tab.svg" color="#2196f3"> <link rel="shortcut icon" href="../../../_static/icons/favicon.ico"> <meta name=msapplication-TileColor  content="#f8f8f8"> <meta name=msapplication-config  content="../../../_static/icons/browserconfig.xml"> <style> .highlight { background-color: hsla(0,0%,92.5%,.5) !important; } </style> <link rel=stylesheet  type="text/css" href="../../../_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="../../../_static/material.css" /> <script data-url_root="../../../" id=documentation_options  src="../../../_static/documentation_options.js"></script> <script src="../../../_static/jquery.js"></script> <script src="../../../_static/underscore.js"></script> <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script> <script src="../../../_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <link rel="shortcut icon" href="../../../_static/favicon.ico"/> <link rel=index  title=Index  href="../../../genindex.html" /> <link rel=search  title=Search  href="../../../search.html" /> <body dir=ltr data-md-color-primary=blue data-md-color-accent=orange> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#_modules/statsmodels/iolib/summary" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../../../index.html" title="linearmodels 4.28.dev9+g225bafdc8 documentation" class="md-header-nav__button md-logo"> <img src="../../../_static/bw-logo.svg" height=26  alt="linearmodels 4.28.dev9+g225bafdc8 documentation logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >linearmodels v4.28 (+9)</span> <span class=md-header-nav__topic > statsmodels.iolib.summary </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../../../search.html" method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/bashtage/linearmodels/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > linearmodels </div> </a> </div> </div> <div class="md-flex__cell md-flex__cell--shrink dropdown"> <button class=dropdownbutton >Versions</button> <div class="dropdown-content md-hero"> <a title=Release  href="https://bashtage.github.io/linearmodels/">Release</a> <a title=Development  href="https://bashtage.github.io/linearmodels/devel/">Development</a> </div> </div> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href="../../index.html" class=md-tabs__link >Module code</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../../../index.html" title="linearmodels 4.28.dev9+g225bafdc8 documentation" class="md-nav__button md-logo"> <img src="../../../_static/bw-logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../../../index.html" title="linearmodels 4.28.dev9+g225bafdc8 documentation">linearmodels v4.28 (+9)</a> </label> <div class=md-nav__source > <a href="https://github.com/bashtage/linearmodels/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > linearmodels </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <a href="../../../iv/index.html" class=md-nav__link >Instrumental Variable Estimation</a> <li class=md-nav__item > <a href="../../../panel/index.html" class=md-nav__link >Panel Data Model Estimation</a> <li class=md-nav__item > <a href="../../../asset-pricing/index.html" class=md-nav__link >Linear Factor Models for Asset Pricing</a> <li class=md-nav__item > <a href="../../../system/index.html" class=md-nav__link >System Regression Models</a> <li class=md-nav__item > <a href="../../../utility.html" class=md-nav__link >Utilities</a> <li class=md-nav__item > <a href="../../../compatibility.html" class=md-nav__link >Compatibility</a> <li class=md-nav__item > <a href="../../../plan.html" class=md-nav__link >Module Plans</a> <li class=md-nav__item > <a href="../../../contributing.html" class=md-nav__link >Contributing</a> <li class=md-nav__item > <a href="../../../changes.html" class=md-nav__link >Change Log</a> <li class=md-nav__item > <a href="../../../references.html" class=md-nav__link >References</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <ul class=md-nav__list  data-md-scrollfix=""> <li id=searchbox  class=md-nav__item > </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <h1 id=modules-statsmodels-iolib-summary--page-root >Source code for statsmodels.iolib.summary</h1><div class=highlight ><pre>
<span></span><span class=kn >from</span> <span class=nn >statsmodels.compat.python</span> <span class=kn >import</span> <span class=n >lmap</span><span class=p >,</span> <span class=n >lrange</span><span class=p >,</span> <span class=n >lzip</span>

<span class=kn >import</span> <span class=nn >copy</span>
<span class=kn >from</span> <span class=nn >itertools</span> <span class=kn >import</span> <span class=n >zip_longest</span>
<span class=kn >import</span> <span class=nn >time</span>

<span class=kn >import</span> <span class=nn >numpy</span> <span class=k >as</span> <span class=nn >np</span>

<span class=kn >from</span> <span class=nn >statsmodels.iolib.table</span> <span class=kn >import</span> <span class=n >SimpleTable</span>
<span class=kn >from</span> <span class=nn >statsmodels.iolib.tableformatting</span> <span class=kn >import</span> <span class=p >(</span>
    <span class=n >fmt_2</span><span class=p >,</span>
    <span class=n >fmt_2cols</span><span class=p >,</span>
    <span class=n >fmt_params</span><span class=p >,</span>
    <span class=n >gen_fmt</span><span class=p >,</span>
<span class=p >)</span>

<span class=kn >from</span> <span class=nn >.summary2</span> <span class=kn >import</span> <span class=n >_model_types</span>


<span class=k >def</span> <span class=nf >forg</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >prec</span><span class=o >=</span><span class=mi >3</span><span class=p >):</span>
    <span class=k >if</span> <span class=n >prec</span> <span class=o >==</span> <span class=mi >3</span><span class=p >:</span>
        <span class=c1 ># for 3 decimals</span>
        <span class=k >if</span> <span class=p >(</span><span class=nb >abs</span><span class=p >(</span><span class=n >x</span><span class=p >)</span> <span class=o >&gt;=</span> <span class=mf >1e4</span><span class=p >)</span> <span class=ow >or</span> <span class=p >(</span><span class=nb >abs</span><span class=p >(</span><span class=n >x</span><span class=p >)</span> <span class=o >&lt;</span> <span class=mf >1e-4</span><span class=p >):</span>
            <span class=k >return</span> <span class=s1 >'</span><span class=si >%9.3g</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >x</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=k >return</span> <span class=s1 >'</span><span class=si >%9.3f</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >x</span>
    <span class=k >elif</span> <span class=n >prec</span> <span class=o >==</span> <span class=mi >4</span><span class=p >:</span>
        <span class=k >if</span> <span class=p >(</span><span class=nb >abs</span><span class=p >(</span><span class=n >x</span><span class=p >)</span> <span class=o >&gt;=</span> <span class=mf >1e4</span><span class=p >)</span> <span class=ow >or</span> <span class=p >(</span><span class=nb >abs</span><span class=p >(</span><span class=n >x</span><span class=p >)</span> <span class=o >&lt;</span> <span class=mf >1e-4</span><span class=p >):</span>
            <span class=k >return</span> <span class=s1 >'</span><span class=si >%10.4g</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >x</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=k >return</span> <span class=s1 >'</span><span class=si >%10.4f</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >x</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s2 >"`prec` argument must be either 3 or 4, not </span><span class=si >{prec}</span><span class=s2 >"</span>
                         <span class=o >.</span><span class=n >format</span><span class=p >(</span><span class=n >prec</span><span class=o >=</span><span class=n >prec</span><span class=p >))</span>


<span class=k >def</span> <span class=nf >d_or_f</span><span class=p >(</span><span class=n >x</span><span class=p >,</span> <span class=n >width</span><span class=o >=</span><span class=mi >6</span><span class=p >):</span>
    <span class=sd >"""convert number to string with either integer of float formatting</span>

<span class=sd >    This is used internally for nobs and degrees of freedom which are usually</span>
<span class=sd >    integers but can be float in some cases.</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    x : int or float</span>
<span class=sd >    width : int</span>
<span class=sd >        only used if x is nan</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    str : str</span>
<span class=sd >        number as formatted string</span>
<span class=sd >    """</span>
    <span class=k >if</span> <span class=n >np</span><span class=o >.</span><span class=n >isnan</span><span class=p >(</span><span class=n >x</span><span class=p >):</span>
        <span class=k >return</span> <span class=p >(</span><span class=n >width</span> <span class=o >-</span> <span class=mi >3</span><span class=p >)</span> <span class=o >*</span> <span class=s1 >' '</span> <span class=o >+</span> <span class=s1 >'NaN'</span>

    <span class=k >if</span> <span class=n >x</span> <span class=o >//</span> <span class=mi >1</span> <span class=o >==</span> <span class=n >x</span><span class=p >:</span>
        <span class=k >return</span> <span class=s2 >"</span><span class=si >%#6d</span><span class=s2 >"</span> <span class=o >%</span> <span class=n >x</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=k >return</span> <span class=s2 >"</span><span class=si >%#8.2f</span><span class=s2 >"</span> <span class=o >%</span> <span class=n >x</span>


<span class=k >def</span> <span class=nf >summary</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >title</span><span class=o >=</span><span class=mi >0</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=mf >.05</span><span class=p >,</span>
            <span class=n >returns</span><span class=o >=</span><span class=s1 >'text'</span><span class=p >,</span> <span class=n >model_info</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
    <span class=sd >"""</span>
<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    yname : str</span>
<span class=sd >            optional, Default is `Y`</span>
<span class=sd >    xname : list[str]</span>
<span class=sd >            optional, Default is `X.#` for # in p the number of regressors</span>
<span class=sd >    Confidance interval : (0,1) not implimented</span>
<span class=sd >    title : str</span>
<span class=sd >            optional, Defualt is 'Generalized linear model'</span>
<span class=sd >    returns : str</span>
<span class=sd >              'text', 'table', 'csv', 'latex', 'html'</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    Default :</span>
<span class=sd >    returns='print'</span>
<span class=sd >            Prints the summarirized results</span>

<span class=sd >    Option :</span>
<span class=sd >    returns='text'</span>
<span class=sd >            Prints the summarirized results</span>

<span class=sd >    Option :</span>
<span class=sd >    returns='table'</span>
<span class=sd >             SimpleTable instance : summarizing the fit of a linear model.</span>

<span class=sd >    Option :</span>
<span class=sd >    returns='csv'</span>
<span class=sd >            returns a string of csv of the results, to import into a spreadsheet</span>

<span class=sd >    Option :</span>
<span class=sd >    returns='latex'</span>
<span class=sd >    Not implimented yet</span>

<span class=sd >    Option :</span>
<span class=sd >    returns='HTML'</span>
<span class=sd >    Not implimented yet</span>


<span class=sd >    Examples (needs updating)</span>
<span class=sd >    --------</span>
<span class=sd >    &gt;&gt;&gt; import statsmodels as sm</span>
<span class=sd >    &gt;&gt;&gt; data = sm.datasets.longley.load()</span>
<span class=sd >    &gt;&gt;&gt; data.exog = sm.add_constant(data.exog)</span>
<span class=sd >    &gt;&gt;&gt; ols_results = sm.OLS(data.endog, data.exog).results</span>
<span class=sd >    &gt;&gt;&gt; print ols_results.summary()</span>
<span class=sd >    ...</span>

<span class=sd >    Notes</span>
<span class=sd >    -----</span>
<span class=sd >    conf_int calculated from normal dist.</span>
<span class=sd >    """</span>
    <span class=k >if</span> <span class=n >title</span> <span class=o >==</span> <span class=mi >0</span><span class=p >:</span>
        <span class=n >title</span> <span class=o >=</span> <span class=n >_model_types</span><span class=p >[</span><span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=vm >__class__</span><span class=o >.</span><span class=vm >__name__</span><span class=p >]</span>

    <span class=k >if</span> <span class=n >xname</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span> <span class=ow >and</span> <span class=nb >len</span><span class=p >(</span><span class=n >xname</span><span class=p >)</span> <span class=o >!=</span> <span class=nb >len</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >params</span><span class=p >):</span>
        <span class=c1 ># GH 2298</span>
        <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'User supplied xnames must have the same number of '</span>
                         <span class=s1 >'entries as the number of model parameters '</span>
                         <span class=s1 >'(</span><span class=si >{0}</span><span class=s1 >)'</span><span class=o >.</span><span class=n >format</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >params</span><span class=p >)))</span>

    <span class=n >yname</span><span class=p >,</span> <span class=n >xname</span> <span class=o >=</span> <span class=n >_getnames</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=p >)</span>

    <span class=n >time_now</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >localtime</span><span class=p >()</span>
    <span class=n >time_of_day</span> <span class=o >=</span> <span class=p >[</span><span class=n >time</span><span class=o >.</span><span class=n >strftime</span><span class=p >(</span><span class=s2 >"%H:%M:%S"</span><span class=p >,</span> <span class=n >time_now</span><span class=p >)]</span>
    <span class=n >date</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >strftime</span><span class=p >(</span><span class=s2 >"</span><span class=si >%a</span><span class=s2 >, </span><span class=si >%d</span><span class=s2 > %b %Y"</span><span class=p >,</span> <span class=n >time_now</span><span class=p >)</span>
    <span class=n >modeltype</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=vm >__class__</span><span class=o >.</span><span class=vm >__name__</span>
    <span class=n >nobs</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >nobs</span>
    <span class=n >df_model</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >df_model</span>
    <span class=n >df_resid</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >df_resid</span>

    <span class=c1 >#General part of the summary table, Applicable to all? models</span>
    <span class=c1 >#------------------------------------------------------------</span>
    <span class=c1 ># TODO: define this generically, overwrite in model classes</span>
    <span class=c1 >#replace definition of stubs data by single list</span>
    <span class=c1 >#e.g.</span>
    <span class=n >gen_left</span> <span class=o >=</span> <span class=p >[(</span><span class=s1 >'Model type:'</span><span class=p >,</span> <span class=p >[</span><span class=n >modeltype</span><span class=p >]),</span>
                <span class=p >(</span><span class=s1 >'Date:'</span><span class=p >,</span> <span class=p >[</span><span class=n >date</span><span class=p >]),</span>
                <span class=p >(</span><span class=s1 >'Dependent Variable:'</span><span class=p >,</span> <span class=n >yname</span><span class=p >),</span>  <span class=c1 ># TODO: What happens with multiple names?</span>
                <span class=p >(</span><span class=s1 >'df model'</span><span class=p >,</span> <span class=p >[</span><span class=n >df_model</span><span class=p >])</span>
                <span class=p >]</span>
    <span class=n >gen_stubs_left</span><span class=p >,</span> <span class=n >gen_data_left</span> <span class=o >=</span> <span class=n >zip_longest</span><span class=p >(</span><span class=o >*</span><span class=n >gen_left</span><span class=p >)</span> <span class=c1 >#transpose row col</span>

    <span class=n >gen_title</span> <span class=o >=</span> <span class=n >title</span>
    <span class=n >gen_header</span> <span class=o >=</span> <span class=kc >None</span>
    <span class=n >gen_table_left</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >gen_data_left</span><span class=p >,</span>
                                 <span class=n >gen_header</span><span class=p >,</span>
                                 <span class=n >gen_stubs_left</span><span class=p >,</span>
                                 <span class=n >title</span><span class=o >=</span><span class=n >gen_title</span><span class=p >,</span>
                                 <span class=n >txt_fmt</span><span class=o >=</span><span class=n >gen_fmt</span>
                                 <span class=p >)</span>

    <span class=n >gen_stubs_right</span> <span class=o >=</span> <span class=p >(</span><span class=s1 >'Method:'</span><span class=p >,</span>
                       <span class=s1 >'Time:'</span><span class=p >,</span>
                       <span class=s1 >'Number of Obs:'</span><span class=p >,</span>
                       <span class=s1 >'df resid'</span><span class=p >)</span>
    <span class=n >gen_data_right</span> <span class=o >=</span> <span class=p >([</span><span class=n >modeltype</span><span class=p >],</span> <span class=c1 >#was dist family need to look at more</span>
                      <span class=n >time_of_day</span><span class=p >,</span>
                      <span class=p >[</span><span class=n >nobs</span><span class=p >],</span>
                      <span class=p >[</span><span class=n >df_resid</span><span class=p >]</span>
                      <span class=p >)</span>
    <span class=n >gen_table_right</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >gen_data_right</span><span class=p >,</span>
                                  <span class=n >gen_header</span><span class=p >,</span>
                                  <span class=n >gen_stubs_right</span><span class=p >,</span>
                                  <span class=n >title</span><span class=o >=</span><span class=n >gen_title</span><span class=p >,</span>
                                  <span class=n >txt_fmt</span><span class=o >=</span><span class=n >gen_fmt</span>
                                  <span class=p >)</span>
    <span class=n >gen_table_left</span><span class=o >.</span><span class=n >extend_right</span><span class=p >(</span><span class=n >gen_table_right</span><span class=p >)</span>
    <span class=n >general_table</span> <span class=o >=</span> <span class=n >gen_table_left</span>

    <span class=c1 ># Parameters part of the summary table</span>
    <span class=c1 ># ------------------------------------</span>
    <span class=c1 ># Note: this is not necessary since we standardized names,</span>
    <span class=c1 >#  only t versus normal</span>
    <span class=n >tstats</span> <span class=o >=</span> <span class=p >{</span><span class=s1 >'OLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >(),</span>
              <span class=s1 >'GLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >(),</span>
              <span class=s1 >'GLSAR'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >(),</span>
              <span class=s1 >'WLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >(),</span>
              <span class=s1 >'RLM'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >(),</span>
              <span class=s1 >'GLM'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >t</span><span class=p >()}</span>
    <span class=n >prob_stats</span> <span class=o >=</span> <span class=p >{</span><span class=s1 >'OLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span><span class=p >,</span>
                  <span class=s1 >'GLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span><span class=p >,</span>
                  <span class=s1 >'GLSAR'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span><span class=p >,</span>
                  <span class=s1 >'WLS'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span><span class=p >,</span>
                  <span class=s1 >'RLM'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span><span class=p >,</span>
                  <span class=s1 >'GLM'</span><span class=p >:</span> <span class=bp >self</span><span class=o >.</span><span class=n >pvalues</span>
                  <span class=p >}</span>
    <span class=c1 ># Dictionary to store the header names for the parameter part of the</span>
    <span class=c1 ># summary table. look up by modeltype</span>
    <span class=n >alp</span> <span class=o >=</span> <span class=nb >str</span><span class=p >((</span><span class=mi >1</span><span class=o >-</span><span class=n >alpha</span><span class=p >)</span><span class=o >*</span><span class=mi >100</span><span class=p >)</span><span class=o >+</span><span class=s1 >'%'</span>
    <span class=n >param_header</span> <span class=o >=</span> <span class=p >{</span>
         <span class=s1 >'OLS'</span>   <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >],</span>
         <span class=s1 >'GLS'</span>   <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >],</span>
         <span class=s1 >'GLSAR'</span> <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >],</span>
         <span class=s1 >'WLS'</span>   <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >],</span>
         <span class=s1 >'GLM'</span>   <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >],</span> <span class=c1 >#glm uses t-distribution</span>
         <span class=s1 >'RLM'</span>   <span class=p >:</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'z'</span><span class=p >,</span> <span class=s1 >'P&gt;|z|'</span><span class=p >,</span> <span class=n >alp</span> <span class=o >+</span> <span class=s1 >' Conf. Interval'</span><span class=p >]</span>  <span class=c1 >#checke z</span>
                   <span class=p >}</span>
    <span class=n >params_stubs</span> <span class=o >=</span> <span class=n >xname</span>
    <span class=n >params</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >params</span>
    <span class=n >conf_int</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >alpha</span><span class=p >)</span>
    <span class=n >std_err</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >bse</span>
    <span class=n >exog_len</span> <span class=o >=</span> <span class=n >lrange</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >xname</span><span class=p >))</span>
    <span class=n >tstat</span> <span class=o >=</span> <span class=n >tstats</span><span class=p >[</span><span class=n >modeltype</span><span class=p >]</span>
    <span class=n >prob_stat</span> <span class=o >=</span> <span class=n >prob_stats</span><span class=p >[</span><span class=n >modeltype</span><span class=p >]</span>

    <span class=c1 ># Simpletable should be able to handle the formating</span>
    <span class=n >params_data</span> <span class=o >=</span> <span class=n >lzip</span><span class=p >([</span><span class=s2 >"</span><span class=si >%#6.4g</span><span class=s2 >"</span> <span class=o >%</span> <span class=p >(</span><span class=n >params</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_len</span><span class=p >],</span>
                       <span class=p >[</span><span class=s2 >"</span><span class=si >%#6.4f</span><span class=s2 >"</span> <span class=o >%</span> <span class=p >(</span><span class=n >std_err</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_len</span><span class=p >],</span>
                       <span class=p >[</span><span class=s2 >"</span><span class=si >%#6.4f</span><span class=s2 >"</span> <span class=o >%</span> <span class=p >(</span><span class=n >tstat</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_len</span><span class=p >],</span>
                       <span class=p >[</span><span class=s2 >"</span><span class=si >%#6.4f</span><span class=s2 >"</span> <span class=o >%</span> <span class=p >(</span><span class=n >prob_stat</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_len</span><span class=p >],</span>
                       <span class=p >[</span><span class=s2 >"(</span><span class=si >%#5g</span><span class=s2 >, </span><span class=si >%#5g</span><span class=s2 >)"</span> <span class=o >%</span> <span class=nb >tuple</span><span class=p >(</span><span class=n >conf_int</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_len</span><span class=p >])</span>
    <span class=n >parameter_table</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >params_data</span><span class=p >,</span>
                                  <span class=n >param_header</span><span class=p >[</span><span class=n >modeltype</span><span class=p >],</span>
                                  <span class=n >params_stubs</span><span class=p >,</span>
                                  <span class=n >title</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span>
                                  <span class=n >txt_fmt</span><span class=o >=</span><span class=n >fmt_2</span>
                                  <span class=p >)</span>

    <span class=c1 >#special table</span>
    <span class=c1 >#-------------</span>
    <span class=c1 >#TODO: exists in linear_model, what about other models</span>
    <span class=c1 >#residual diagnostics</span>

    <span class=c1 >#output options</span>
    <span class=c1 >#--------------</span>
    <span class=c1 >#TODO: JP the rest needs to be fixed, similar to summary in linear_model</span>

    <span class=k >def</span> <span class=nf >ols_printer</span><span class=p >():</span>
        <span class=sd >"""</span>
<span class=sd >        print summary table for ols models</span>
<span class=sd >        """</span>
        <span class=n >table</span> <span class=o >=</span> <span class=nb >str</span><span class=p >(</span><span class=n >general_table</span><span class=p >)</span><span class=o >+</span><span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=o >+</span><span class=nb >str</span><span class=p >(</span><span class=n >parameter_table</span><span class=p >)</span>
        <span class=k >return</span> <span class=n >table</span>

    <span class=k >def</span> <span class=nf >glm_printer</span><span class=p >():</span>
        <span class=n >table</span> <span class=o >=</span> <span class=nb >str</span><span class=p >(</span><span class=n >general_table</span><span class=p >)</span><span class=o >+</span><span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=o >+</span><span class=nb >str</span><span class=p >(</span><span class=n >parameter_table</span><span class=p >)</span>
        <span class=k >return</span> <span class=n >table</span>

    <span class=n >printers</span> <span class=o >=</span> <span class=p >{</span><span class=s1 >'OLS'</span><span class=p >:</span> <span class=n >ols_printer</span><span class=p >,</span> <span class=s1 >'GLM'</span><span class=p >:</span> <span class=n >glm_printer</span><span class=p >}</span>

    <span class=k >if</span> <span class=n >returns</span> <span class=o >==</span> <span class=s1 >'print'</span><span class=p >:</span>
        <span class=k >try</span><span class=p >:</span>
            <span class=k >return</span> <span class=n >printers</span><span class=p >[</span><span class=n >modeltype</span><span class=p >]()</span>
        <span class=k >except</span> <span class=ne >KeyError</span><span class=p >:</span>
            <span class=k >return</span> <span class=n >printers</span><span class=p >[</span><span class=s1 >'OLS'</span><span class=p >]()</span>


<span class=k >def</span> <span class=nf >_getnames</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
    <span class=sd >'''extract names from model or construct names</span>
<span class=sd >    '''</span>
    <span class=k >if</span> <span class=n >yname</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=k >if</span> <span class=nb >getattr</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=p >,</span> <span class=s1 >'endog_names'</span><span class=p >,</span> <span class=kc >None</span><span class=p >)</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >yname</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=n >endog_names</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=n >yname</span> <span class=o >=</span> <span class=s1 >'y'</span>

    <span class=k >if</span> <span class=n >xname</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=k >if</span> <span class=nb >getattr</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=p >,</span> <span class=s1 >'exog_names'</span><span class=p >,</span> <span class=kc >None</span><span class=p >)</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >xname</span> <span class=o >=</span> <span class=bp >self</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=n >exog_names</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=n >xname</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'var_</span><span class=si >%d</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >i</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=nb >range</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >params</span><span class=p >))]</span>

    <span class=k >return</span> <span class=n >yname</span><span class=p >,</span> <span class=n >xname</span>


<span class=k >def</span> <span class=nf >summary_top</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >title</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >gleft</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >gright</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
    <span class=sd >'''generate top table(s)</span>


<span class=sd >    TODO: this still uses predefined model_methods</span>
<span class=sd >    ? allow gleft, gright to be 1 element tuples instead of filling with None?</span>

<span class=sd >    '''</span>
    <span class=c1 >#change of names ?</span>
    <span class=n >gen_left</span><span class=p >,</span> <span class=n >gen_right</span> <span class=o >=</span> <span class=n >gleft</span><span class=p >,</span> <span class=n >gright</span>

    <span class=c1 ># time and names are always included</span>
    <span class=n >time_now</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >localtime</span><span class=p >()</span>
    <span class=n >time_of_day</span> <span class=o >=</span> <span class=p >[</span><span class=n >time</span><span class=o >.</span><span class=n >strftime</span><span class=p >(</span><span class=s2 >"%H:%M:%S"</span><span class=p >,</span> <span class=n >time_now</span><span class=p >)]</span>
    <span class=n >date</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >strftime</span><span class=p >(</span><span class=s2 >"</span><span class=si >%a</span><span class=s2 >, </span><span class=si >%d</span><span class=s2 > %b %Y"</span><span class=p >,</span> <span class=n >time_now</span><span class=p >)</span>

    <span class=n >yname</span><span class=p >,</span> <span class=n >xname</span> <span class=o >=</span> <span class=n >_getnames</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=n >xname</span><span class=p >)</span>

    <span class=c1 ># create dictionary with default</span>
    <span class=c1 ># use lambdas because some values raise exception if they are not available</span>
    <span class=n >default_items</span> <span class=o >=</span> <span class=nb >dict</span><span class=p >([</span>
          <span class=p >(</span><span class=s1 >'Dependent Variable:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >yname</span><span class=p >]),</span>
          <span class=p >(</span><span class=s1 >'Dep. Variable:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >yname</span><span class=p >]),</span>
          <span class=p >(</span><span class=s1 >'Model:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >results</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=vm >__class__</span><span class=o >.</span><span class=vm >__name__</span><span class=p >]),</span>
          <span class=p >(</span><span class=s1 >'Date:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >date</span><span class=p >]),</span>
          <span class=p >(</span><span class=s1 >'Time:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=n >time_of_day</span><span class=p >),</span>
          <span class=p >(</span><span class=s1 >'Number of Obs:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >results</span><span class=o >.</span><span class=n >nobs</span><span class=p >]),</span>
          <span class=p >(</span><span class=s1 >'No. Observations:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >d_or_f</span><span class=p >(</span><span class=n >results</span><span class=o >.</span><span class=n >nobs</span><span class=p >)]),</span>
          <span class=p >(</span><span class=s1 >'Df Model:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >d_or_f</span><span class=p >(</span><span class=n >results</span><span class=o >.</span><span class=n >df_model</span><span class=p >)]),</span>
          <span class=p >(</span><span class=s1 >'Df Residuals:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=n >d_or_f</span><span class=p >(</span><span class=n >results</span><span class=o >.</span><span class=n >df_resid</span><span class=p >)]),</span>
          <span class=p >(</span><span class=s1 >'Log-Likelihood:'</span><span class=p >,</span> <span class=k >lambda</span><span class=p >:</span> <span class=p >[</span><span class=s2 >"</span><span class=si >%#8.5g</span><span class=s2 >"</span> <span class=o >%</span> <span class=n >results</span><span class=o >.</span><span class=n >llf</span><span class=p >])</span>  <span class=c1 ># does not exist for RLM - exception</span>
    <span class=p >])</span>

    <span class=k >if</span> <span class=n >title</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=n >title</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=vm >__class__</span><span class=o >.</span><span class=vm >__name__</span> <span class=o >+</span> <span class=s1 >'Regression Results'</span>

    <span class=k >if</span> <span class=n >gen_left</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=c1 ># default: General part of the summary table, Applicable to all? models</span>
        <span class=n >gen_left</span> <span class=o >=</span> <span class=p >[(</span><span class=s1 >'Dep. Variable:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >),</span>
                    <span class=p >(</span><span class=s1 >'Model type:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >),</span>
                    <span class=p >(</span><span class=s1 >'Date:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >),</span>
                    <span class=p >(</span><span class=s1 >'No. Observations:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >),</span>
                    <span class=p >(</span><span class=s1 >'Df model:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >),</span>
                    <span class=p >(</span><span class=s1 >'Df resid:'</span><span class=p >,</span> <span class=kc >None</span><span class=p >)]</span>

        <span class=k >try</span><span class=p >:</span>
            <span class=n >llf</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >llf</span>  <span class=c1 ># noqa: F841</span>
            <span class=n >gen_left</span><span class=o >.</span><span class=n >append</span><span class=p >((</span><span class=s1 >'Log-Likelihood'</span><span class=p >,</span> <span class=kc >None</span><span class=p >))</span>
        <span class=k >except</span><span class=p >:</span> <span class=c1 ># AttributeError, NotImplementedError</span>
            <span class=k >pass</span>

        <span class=n >gen_right</span> <span class=o >=</span> <span class=p >[]</span>

    <span class=n >gen_title</span> <span class=o >=</span> <span class=n >title</span>
    <span class=n >gen_header</span> <span class=o >=</span> <span class=kc >None</span>

    <span class=c1 ># replace missing (None) values with default values</span>
    <span class=n >gen_left_</span> <span class=o >=</span> <span class=p >[]</span>
    <span class=k >for</span> <span class=n >item</span><span class=p >,</span> <span class=n >value</span> <span class=ow >in</span> <span class=n >gen_left</span><span class=p >:</span>
        <span class=k >if</span> <span class=n >value</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >value</span> <span class=o >=</span> <span class=n >default_items</span><span class=p >[</span><span class=n >item</span><span class=p >]()</span>  <span class=c1 ># let KeyErrors raise exception</span>
        <span class=n >gen_left_</span><span class=o >.</span><span class=n >append</span><span class=p >((</span><span class=n >item</span><span class=p >,</span> <span class=n >value</span><span class=p >))</span>
    <span class=n >gen_left</span> <span class=o >=</span> <span class=n >gen_left_</span>

    <span class=k >if</span> <span class=n >gen_right</span><span class=p >:</span>
        <span class=n >gen_right_</span> <span class=o >=</span> <span class=p >[]</span>
        <span class=k >for</span> <span class=n >item</span><span class=p >,</span> <span class=n >value</span> <span class=ow >in</span> <span class=n >gen_right</span><span class=p >:</span>
            <span class=k >if</span> <span class=n >value</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
                <span class=n >value</span> <span class=o >=</span> <span class=n >default_items</span><span class=p >[</span><span class=n >item</span><span class=p >]()</span>  <span class=c1 ># let KeyErrors raise exception</span>
            <span class=n >gen_right_</span><span class=o >.</span><span class=n >append</span><span class=p >((</span><span class=n >item</span><span class=p >,</span> <span class=n >value</span><span class=p >))</span>
        <span class=n >gen_right</span> <span class=o >=</span> <span class=n >gen_right_</span>

    <span class=c1 ># check nothing was missed</span>
    <span class=n >missing_values</span> <span class=o >=</span> <span class=p >[</span><span class=n >k</span> <span class=k >for</span> <span class=n >k</span><span class=p >,</span><span class=n >v</span> <span class=ow >in</span> <span class=n >gen_left</span> <span class=o >+</span> <span class=n >gen_right</span> <span class=k >if</span> <span class=n >v</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >]</span>
    <span class=k >assert</span> <span class=n >missing_values</span> <span class=o >==</span> <span class=p >[],</span> <span class=n >missing_values</span>

    <span class=c1 ># pad both tables to equal number of rows</span>
    <span class=k >if</span> <span class=n >gen_right</span><span class=p >:</span>
        <span class=k >if</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_right</span><span class=p >)</span> <span class=o >&lt;</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_left</span><span class=p >):</span>
            <span class=c1 ># fill up with blank lines to same length</span>
            <span class=n >gen_right</span> <span class=o >+=</span> <span class=p >[(</span><span class=s1 >' '</span><span class=p >,</span> <span class=s1 >' '</span><span class=p >)]</span> <span class=o >*</span> <span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >gen_left</span><span class=p >)</span> <span class=o >-</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_right</span><span class=p >))</span>
        <span class=k >elif</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_right</span><span class=p >)</span> <span class=o >&gt;</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_left</span><span class=p >):</span>
            <span class=c1 ># fill up with blank lines to same length, just to keep it symmetric</span>
            <span class=n >gen_left</span> <span class=o >+=</span> <span class=p >[(</span><span class=s1 >' '</span><span class=p >,</span> <span class=s1 >' '</span><span class=p >)]</span> <span class=o >*</span> <span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >gen_right</span><span class=p >)</span> <span class=o >-</span> <span class=nb >len</span><span class=p >(</span><span class=n >gen_left</span><span class=p >))</span>

        <span class=c1 ># padding in SimpleTable does not work like I want</span>
        <span class=c1 >#force extra spacing and exact string length in right table</span>
        <span class=n >gen_right</span> <span class=o >=</span> <span class=p >[(</span><span class=s1 >'</span><span class=si >%-21s</span><span class=s1 >'</span> <span class=o >%</span> <span class=p >(</span><span class=s1 >'  '</span><span class=o >+</span><span class=n >k</span><span class=p >),</span> <span class=n >v</span><span class=p >)</span> <span class=k >for</span> <span class=n >k</span><span class=p >,</span><span class=n >v</span> <span class=ow >in</span> <span class=n >gen_right</span><span class=p >]</span>
        <span class=n >gen_stubs_right</span><span class=p >,</span> <span class=n >gen_data_right</span> <span class=o >=</span> <span class=n >zip_longest</span><span class=p >(</span><span class=o >*</span><span class=n >gen_right</span><span class=p >)</span> <span class=c1 >#transpose row col</span>
        <span class=n >gen_table_right</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >gen_data_right</span><span class=p >,</span>
                                      <span class=n >gen_header</span><span class=p >,</span>
                                      <span class=n >gen_stubs_right</span><span class=p >,</span>
                                      <span class=n >title</span><span class=o >=</span><span class=n >gen_title</span><span class=p >,</span>
                                      <span class=n >txt_fmt</span><span class=o >=</span><span class=n >fmt_2cols</span>
                                      <span class=p >)</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >gen_table_right</span> <span class=o >=</span> <span class=p >[]</span>  <span class=c1 >#because .extend_right seems works with []</span>

    <span class=c1 >#moved below so that we can pad if needed to match length of gen_right</span>
    <span class=c1 >#transpose rows and columns, `unzip`</span>
    <span class=n >gen_stubs_left</span><span class=p >,</span> <span class=n >gen_data_left</span> <span class=o >=</span> <span class=n >zip_longest</span><span class=p >(</span><span class=o >*</span><span class=n >gen_left</span><span class=p >)</span> <span class=c1 >#transpose row col</span>

    <span class=n >gen_table_left</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >gen_data_left</span><span class=p >,</span>
                                 <span class=n >gen_header</span><span class=p >,</span>
                                 <span class=n >gen_stubs_left</span><span class=p >,</span>
                                 <span class=n >title</span><span class=o >=</span><span class=n >gen_title</span><span class=p >,</span>
                                 <span class=n >txt_fmt</span><span class=o >=</span><span class=n >fmt_2cols</span>
                                 <span class=p >)</span>

    <span class=n >gen_table_left</span><span class=o >.</span><span class=n >extend_right</span><span class=p >(</span><span class=n >gen_table_right</span><span class=p >)</span>
    <span class=n >general_table</span> <span class=o >=</span> <span class=n >gen_table_left</span>

    <span class=k >return</span> <span class=n >general_table</span>


<span class=k >def</span> <span class=nf >summary_params</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=mf >.05</span><span class=p >,</span> <span class=n >use_t</span><span class=o >=</span><span class=kc >True</span><span class=p >,</span>
                   <span class=n >skip_header</span><span class=o >=</span><span class=kc >False</span><span class=p >,</span> <span class=n >title</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
    <span class=sd >'''create a summary table for the parameters</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    res : results instance</span>
<span class=sd >        some required information is directly taken from the result</span>
<span class=sd >        instance</span>
<span class=sd >    yname : {str, None}</span>
<span class=sd >        optional name for the endogenous variable, default is "y"</span>
<span class=sd >    xname : {list[str], None}</span>
<span class=sd >        optional names for the exogenous variables, default is "var_xx"</span>
<span class=sd >    alpha : float</span>
<span class=sd >        significance level for the confidence intervals</span>
<span class=sd >    use_t : bool</span>
<span class=sd >        indicator whether the p-values are based on the Student-t</span>
<span class=sd >        distribution (if True) or on the normal distribution (if False)</span>
<span class=sd >    skip_headers : bool</span>
<span class=sd >        If false (default), then the header row is added. If true, then no</span>
<span class=sd >        header row is added.</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    params_table : SimpleTable instance</span>
<span class=sd >    '''</span>

    <span class=c1 ># Parameters part of the summary table</span>
    <span class=c1 ># ------------------------------------</span>
    <span class=c1 ># Note: this is not necessary since we standardized names,</span>
    <span class=c1 >#   only t versus normal</span>

    <span class=k >if</span> <span class=nb >isinstance</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=nb >tuple</span><span class=p >):</span>
        <span class=c1 ># for multivariate endog</span>
        <span class=c1 ># TODO: check whether I do not want to refactor this</span>
        <span class=c1 >#we need to give parameter alpha to conf_int</span>
        <span class=n >results</span><span class=p >,</span> <span class=n >params</span><span class=p >,</span> <span class=n >std_err</span><span class=p >,</span> <span class=n >tvalues</span><span class=p >,</span> <span class=n >pvalues</span><span class=p >,</span> <span class=n >conf_int</span> <span class=o >=</span> <span class=n >results</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >params</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >params</span>
        <span class=n >std_err</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >bse</span>
        <span class=n >tvalues</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >tvalues</span>  <span class=c1 ># is this sometimes called zvalues</span>
        <span class=n >pvalues</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >pvalues</span>
        <span class=n >conf_int</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >alpha</span><span class=p >)</span>
    <span class=k >if</span> <span class=n >params</span><span class=o >.</span><span class=n >size</span> <span class=o >==</span> <span class=mi >0</span><span class=p >:</span>
        <span class=k >return</span> <span class=n >SimpleTable</span><span class=p >([[</span><span class=s1 >'No Model Parameters'</span><span class=p >]])</span>
    <span class=c1 ># Dictionary to store the header names for the parameter part of the</span>
    <span class=c1 ># summary table. look up by modeltype</span>
    <span class=k >if</span> <span class=n >use_t</span><span class=p >:</span>
        <span class=n >param_header</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span>
                        <span class=s1 >'['</span> <span class=o >+</span> <span class=nb >str</span><span class=p >(</span><span class=n >alpha</span><span class=o >/</span><span class=mi >2</span><span class=p >),</span> <span class=nb >str</span><span class=p >(</span><span class=mi >1</span><span class=o >-</span><span class=n >alpha</span><span class=o >/</span><span class=mi >2</span><span class=p >)</span> <span class=o >+</span> <span class=s1 >']'</span><span class=p >]</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >param_header</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'z'</span><span class=p >,</span> <span class=s1 >'P&gt;|z|'</span><span class=p >,</span>
                        <span class=s1 >'['</span> <span class=o >+</span> <span class=nb >str</span><span class=p >(</span><span class=n >alpha</span><span class=o >/</span><span class=mi >2</span><span class=p >),</span> <span class=nb >str</span><span class=p >(</span><span class=mi >1</span><span class=o >-</span><span class=n >alpha</span><span class=o >/</span><span class=mi >2</span><span class=p >)</span> <span class=o >+</span> <span class=s1 >']'</span><span class=p >]</span>

    <span class=k >if</span> <span class=n >skip_header</span><span class=p >:</span>
        <span class=n >param_header</span> <span class=o >=</span> <span class=kc >None</span>

    <span class=n >_</span><span class=p >,</span> <span class=n >xname</span> <span class=o >=</span> <span class=n >_getnames</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=n >xname</span><span class=p >)</span>

    <span class=k >if</span> <span class=nb >len</span><span class=p >(</span><span class=n >xname</span><span class=p >)</span> <span class=o >!=</span> <span class=nb >len</span><span class=p >(</span><span class=n >params</span><span class=p >):</span>
        <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'xnames and params do not have the same length'</span><span class=p >)</span>

    <span class=n >params_stubs</span> <span class=o >=</span> <span class=n >xname</span>

    <span class=n >exog_idx</span> <span class=o >=</span> <span class=n >lrange</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >xname</span><span class=p >))</span>

    <span class=n >params_data</span> <span class=o >=</span> <span class=n >lzip</span><span class=p >([</span><span class=n >forg</span><span class=p >(</span><span class=n >params</span><span class=p >[</span><span class=n >i</span><span class=p >],</span> <span class=n >prec</span><span class=o >=</span><span class=mi >4</span><span class=p >)</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >],</span>
                       <span class=p >[</span><span class=n >forg</span><span class=p >(</span><span class=n >std_err</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >],</span>
                       <span class=p >[</span><span class=n >forg</span><span class=p >(</span><span class=n >tvalues</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >],</span>
                       <span class=p >[</span><span class=s2 >"</span><span class=si >%#6.3f</span><span class=s2 >"</span> <span class=o >%</span> <span class=p >(</span><span class=n >pvalues</span><span class=p >[</span><span class=n >i</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >],</span>
                       <span class=p >[</span><span class=n >forg</span><span class=p >(</span><span class=n >conf_int</span><span class=p >[</span><span class=n >i</span><span class=p >,</span><span class=mi >0</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >],</span>
                       <span class=p >[</span><span class=n >forg</span><span class=p >(</span><span class=n >conf_int</span><span class=p >[</span><span class=n >i</span><span class=p >,</span><span class=mi >1</span><span class=p >])</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >exog_idx</span><span class=p >])</span>
    <span class=n >parameter_table</span> <span class=o >=</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >params_data</span><span class=p >,</span>
                                  <span class=n >param_header</span><span class=p >,</span>
                                  <span class=n >params_stubs</span><span class=p >,</span>
                                  <span class=n >title</span><span class=o >=</span><span class=n >title</span><span class=p >,</span>
                                  <span class=n >txt_fmt</span><span class=o >=</span><span class=n >fmt_params</span>
                                  <span class=p >)</span>

    <span class=k >return</span> <span class=n >parameter_table</span>


<span class=k >def</span> <span class=nf >summary_params_frame</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=mf >.05</span><span class=p >,</span>
                         <span class=n >use_t</span><span class=o >=</span><span class=kc >True</span><span class=p >):</span>
    <span class=sd >'''create a summary table for the parameters</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    res : results instance</span>
<span class=sd >        some required information is directly taken from the result</span>
<span class=sd >        instance</span>
<span class=sd >    yname : {str, None}</span>
<span class=sd >        optional name for the endogenous variable, default is "y"</span>
<span class=sd >    xname : {list[str], None}</span>
<span class=sd >        optional names for the exogenous variables, default is "var_xx"</span>
<span class=sd >    alpha : float</span>
<span class=sd >        significance level for the confidence intervals</span>
<span class=sd >    use_t : bool</span>
<span class=sd >        indicator whether the p-values are based on the Student-t</span>
<span class=sd >        distribution (if True) or on the normal distribution (if False)</span>
<span class=sd >    skip_headers : bool</span>
<span class=sd >        If false (default), then the header row is added. If true, then no</span>
<span class=sd >        header row is added.</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    params_table : SimpleTable instance</span>
<span class=sd >    '''</span>

    <span class=c1 ># Parameters part of the summary table</span>
    <span class=c1 ># ------------------------------------</span>
    <span class=c1 ># Note: this is not necessary since we standardized names,</span>
    <span class=c1 >#   only t versus normal</span>

    <span class=k >if</span> <span class=nb >isinstance</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=nb >tuple</span><span class=p >):</span>
        <span class=c1 ># for multivariate endog</span>
        <span class=c1 ># TODO: check whether I do not want to refactor this</span>
        <span class=c1 >#we need to give parameter alpha to conf_int</span>
        <span class=n >results</span><span class=p >,</span> <span class=n >params</span><span class=p >,</span> <span class=n >std_err</span><span class=p >,</span> <span class=n >tvalues</span><span class=p >,</span> <span class=n >pvalues</span><span class=p >,</span> <span class=n >conf_int</span> <span class=o >=</span> <span class=n >results</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >params</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >params</span>
        <span class=n >std_err</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >bse</span>
        <span class=n >tvalues</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >tvalues</span>  <span class=c1 >#is this sometimes called zvalues</span>
        <span class=n >pvalues</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >pvalues</span>
        <span class=n >conf_int</span> <span class=o >=</span> <span class=n >results</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >alpha</span><span class=p >)</span>

    <span class=c1 ># Dictionary to store the header names for the parameter part of the</span>
    <span class=c1 ># summary table. look up by modeltype</span>
    <span class=k >if</span> <span class=n >use_t</span><span class=p >:</span>
        <span class=n >param_header</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'t'</span><span class=p >,</span> <span class=s1 >'P&gt;|t|'</span><span class=p >,</span>
                        <span class=s1 >'Conf. Int. Low'</span><span class=p >,</span> <span class=s1 >'Conf. Int. Upp.'</span><span class=p >]</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >param_header</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'coef'</span><span class=p >,</span> <span class=s1 >'std err'</span><span class=p >,</span> <span class=s1 >'z'</span><span class=p >,</span> <span class=s1 >'P&gt;|z|'</span><span class=p >,</span>
                        <span class=s1 >'Conf. Int. Low'</span><span class=p >,</span> <span class=s1 >'Conf. Int. Upp.'</span><span class=p >]</span>

    <span class=n >_</span><span class=p >,</span> <span class=n >xname</span> <span class=o >=</span> <span class=n >_getnames</span><span class=p >(</span><span class=n >results</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=n >xname</span><span class=p >)</span>

    <span class=kn >from</span> <span class=nn >pandas</span> <span class=kn >import</span> <span class=n >DataFrame</span>
    <span class=n >table</span> <span class=o >=</span> <span class=n >np</span><span class=o >.</span><span class=n >column_stack</span><span class=p >((</span><span class=n >params</span><span class=p >,</span> <span class=n >std_err</span><span class=p >,</span> <span class=n >tvalues</span><span class=p >,</span> <span class=n >pvalues</span><span class=p >,</span> <span class=n >conf_int</span><span class=p >))</span>
    <span class=k >return</span> <span class=n >DataFrame</span><span class=p >(</span><span class=n >table</span><span class=p >,</span> <span class=n >columns</span><span class=o >=</span><span class=n >param_header</span><span class=p >,</span> <span class=n >index</span><span class=o >=</span><span class=n >xname</span><span class=p >)</span>


<span class=k >def</span> <span class=nf >summary_params_2d</span><span class=p >(</span><span class=n >result</span><span class=p >,</span> <span class=n >extras</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >endog_names</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >exog_names</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span>
                      <span class=n >title</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
    <span class=sd >'''create summary table of regression parameters with several equations</span>

<span class=sd >    This allows interleaving of parameters with bse and/or tvalues</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    result : result instance</span>
<span class=sd >        the result instance with params and attributes in extras</span>
<span class=sd >    extras : list[str]</span>
<span class=sd >        additional attributes to add below a parameter row, e.g. bse or tvalues</span>
<span class=sd >    endog_names : {list[str], None}</span>
<span class=sd >        names for rows of the parameter array (multivariate endog)</span>
<span class=sd >    exog_names : {list[str], None}</span>
<span class=sd >        names for columns of the parameter array (exog)</span>
<span class=sd >    alpha : float</span>
<span class=sd >        level for confidence intervals, default 0.95</span>
<span class=sd >    title : None or string</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    tables : list of SimpleTable</span>
<span class=sd >        this contains a list of all seperate Subtables</span>
<span class=sd >    table_all : SimpleTable</span>
<span class=sd >        the merged table with results concatenated for each row of the parameter</span>
<span class=sd >        array</span>

<span class=sd >    '''</span>
    <span class=k >if</span> <span class=n >endog_names</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=c1 ># TODO: note the [1:] is specific to current MNLogit</span>
        <span class=n >endog_names</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'endog_</span><span class=si >%d</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >i</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span>
                       <span class=n >np</span><span class=o >.</span><span class=n >unique</span><span class=p >(</span><span class=n >result</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=n >endog</span><span class=p >)[</span><span class=mi >1</span><span class=p >:]]</span>
    <span class=k >if</span> <span class=n >exog_names</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
        <span class=n >exog_names</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'var</span><span class=si >%d</span><span class=s1 >'</span> <span class=o >%</span> <span class=n >i</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=nb >range</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >result</span><span class=o >.</span><span class=n >params</span><span class=p >))]</span>

    <span class=c1 ># TODO: check formatting options with different values</span>
    <span class=n >res_params</span> <span class=o >=</span> <span class=p >[[</span><span class=n >forg</span><span class=p >(</span><span class=n >item</span><span class=p >,</span> <span class=n >prec</span><span class=o >=</span><span class=mi >4</span><span class=p >)</span> <span class=k >for</span> <span class=n >item</span> <span class=ow >in</span> <span class=n >row</span><span class=p >]</span> <span class=k >for</span> <span class=n >row</span> <span class=ow >in</span> <span class=n >result</span><span class=o >.</span><span class=n >params</span><span class=p >]</span>
    <span class=k >if</span> <span class=n >extras</span><span class=p >:</span>
        <span class=n >extras_list</span> <span class=o >=</span> <span class=p >[[[</span><span class=s1 >'</span><span class=si >%10s</span><span class=s1 >'</span> <span class=o >%</span> <span class=p >(</span><span class=s1 >'('</span> <span class=o >+</span> <span class=n >forg</span><span class=p >(</span><span class=n >v</span><span class=p >,</span> <span class=n >prec</span><span class=o >=</span><span class=mi >3</span><span class=p >)</span><span class=o >.</span><span class=n >strip</span><span class=p >()</span> <span class=o >+</span> <span class=s1 >')'</span><span class=p >)</span>
                         <span class=k >for</span> <span class=n >v</span> <span class=ow >in</span> <span class=n >col</span><span class=p >]</span>
                        <span class=k >for</span> <span class=n >col</span> <span class=ow >in</span> <span class=nb >getattr</span><span class=p >(</span><span class=n >result</span><span class=p >,</span> <span class=n >what</span><span class=p >)]</span>
                       <span class=k >for</span> <span class=n >what</span> <span class=ow >in</span> <span class=n >extras</span>
                       <span class=p >]</span>
        <span class=n >data</span> <span class=o >=</span> <span class=n >lzip</span><span class=p >(</span><span class=n >res_params</span><span class=p >,</span> <span class=o >*</span><span class=n >extras_list</span><span class=p >)</span>
        <span class=n >data</span> <span class=o >=</span> <span class=p >[</span><span class=n >i</span> <span class=k >for</span> <span class=n >j</span> <span class=ow >in</span> <span class=n >data</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >j</span><span class=p >]</span>  <span class=c1 >#flatten</span>
        <span class=n >stubs</span> <span class=o >=</span> <span class=n >lzip</span><span class=p >(</span><span class=n >endog_names</span><span class=p >,</span> <span class=o >*</span><span class=p >[[</span><span class=s1 >''</span><span class=p >]</span><span class=o >*</span><span class=nb >len</span><span class=p >(</span><span class=n >endog_names</span><span class=p >)]</span><span class=o >*</span><span class=nb >len</span><span class=p >(</span><span class=n >extras</span><span class=p >))</span>
        <span class=n >stubs</span> <span class=o >=</span> <span class=p >[</span><span class=n >i</span> <span class=k >for</span> <span class=n >j</span> <span class=ow >in</span> <span class=n >stubs</span> <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=n >j</span><span class=p >]</span> <span class=c1 >#flatten</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=n >data</span> <span class=o >=</span> <span class=n >res_params</span>
        <span class=n >stubs</span> <span class=o >=</span> <span class=n >endog_names</span>

    <span class=n >txt_fmt</span> <span class=o >=</span> <span class=n >copy</span><span class=o >.</span><span class=n >deepcopy</span><span class=p >(</span><span class=n >fmt_params</span><span class=p >)</span>
    <span class=n >txt_fmt</span><span class=p >[</span><span class=s2 >"data_fmts"</span><span class=p >]</span> <span class=o >=</span> <span class=p >[</span><span class=s2 >"</span><span class=si >%s</span><span class=s2 >"</span><span class=p >]</span><span class=o >*</span><span class=n >result</span><span class=o >.</span><span class=n >params</span><span class=o >.</span><span class=n >shape</span><span class=p >[</span><span class=mi >1</span><span class=p >]</span>

    <span class=k >return</span> <span class=n >SimpleTable</span><span class=p >(</span><span class=n >data</span><span class=p >,</span> <span class=n >headers</span><span class=o >=</span><span class=n >exog_names</span><span class=p >,</span>
                             <span class=n >stubs</span><span class=o >=</span><span class=n >stubs</span><span class=p >,</span>
                             <span class=n >title</span><span class=o >=</span><span class=n >title</span><span class=p >,</span>
                             <span class=n >txt_fmt</span><span class=o >=</span><span class=n >txt_fmt</span><span class=p >)</span>


<span class=k >def</span> <span class=nf >summary_params_2dflat</span><span class=p >(</span><span class=n >result</span><span class=p >,</span> <span class=n >endog_names</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >exog_names</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=mf >0.05</span><span class=p >,</span>
                          <span class=n >use_t</span><span class=o >=</span><span class=kc >True</span><span class=p >,</span> <span class=n >keep_headers</span><span class=o >=</span><span class=kc >True</span><span class=p >,</span> <span class=n >endog_cols</span><span class=o >=</span><span class=kc >False</span><span class=p >):</span>
    <span class=sd >'''summary table for parameters that are 2d, e.g. multi-equation models</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    result : result instance</span>
<span class=sd >        the result instance with params, bse, tvalues and conf_int</span>
<span class=sd >    endog_names : {list[str], None}</span>
<span class=sd >        names for rows of the parameter array (multivariate endog)</span>
<span class=sd >    exog_names : {list[str], None}</span>
<span class=sd >        names for columns of the parameter array (exog)</span>
<span class=sd >    alpha : float</span>
<span class=sd >        level for confidence intervals, default 0.95</span>
<span class=sd >    use_t : bool</span>
<span class=sd >        indicator whether the p-values are based on the Student-t</span>
<span class=sd >        distribution (if True) or on the normal distribution (if False)</span>
<span class=sd >    keep_headers : bool</span>
<span class=sd >        If true (default), then sub-tables keep their headers. If false, then</span>
<span class=sd >        only the first headers are kept, the other headerse are blanked out</span>
<span class=sd >    endog_cols : bool</span>
<span class=sd >        If false (default) then params and other result statistics have</span>
<span class=sd >        equations by rows. If true, then equations are assumed to be in columns.</span>
<span class=sd >        Not implemented yet.</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    tables : list of SimpleTable</span>
<span class=sd >        this contains a list of all seperate Subtables</span>
<span class=sd >    table_all : SimpleTable</span>
<span class=sd >        the merged table with results concatenated for each row of the parameter</span>
<span class=sd >        array</span>

<span class=sd >    '''</span>

    <span class=n >res</span> <span class=o >=</span> <span class=n >result</span>
    <span class=n >params</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >params</span>
    <span class=k >if</span> <span class=n >params</span><span class=o >.</span><span class=n >ndim</span> <span class=o >==</span> <span class=mi >2</span><span class=p >:</span>  <span class=c1 ># we've got multiple equations</span>
        <span class=n >n_equ</span> <span class=o >=</span> <span class=n >params</span><span class=o >.</span><span class=n >shape</span><span class=p >[</span><span class=mi >1</span><span class=p >]</span>
        <span class=k >if</span> <span class=nb >len</span><span class=p >(</span><span class=n >endog_names</span><span class=p >)</span> <span class=o >!=</span> <span class=n >params</span><span class=o >.</span><span class=n >shape</span><span class=p >[</span><span class=mi >1</span><span class=p >]:</span>
            <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'endog_names has wrong length'</span><span class=p >)</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=k >if</span> <span class=nb >len</span><span class=p >(</span><span class=n >endog_names</span><span class=p >)</span> <span class=o >!=</span> <span class=nb >len</span><span class=p >(</span><span class=n >params</span><span class=p >):</span>
            <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'endog_names has wrong length'</span><span class=p >)</span>
        <span class=n >n_equ</span> <span class=o >=</span> <span class=mi >1</span>

    <span class=c1 >#VAR does not have conf_int</span>
    <span class=c1 >#params = res.params.T # this is a convention for multi-eq models</span>

    <span class=c1 ># check that we have the right length of names</span>
    <span class=k >if</span> <span class=ow >not</span> <span class=nb >isinstance</span><span class=p >(</span><span class=n >endog_names</span><span class=p >,</span> <span class=nb >list</span><span class=p >):</span>
        <span class=c1 ># TODO: this might be specific to multinomial logit type, move?</span>
        <span class=k >if</span> <span class=n >endog_names</span> <span class=ow >is</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >endog_basename</span> <span class=o >=</span> <span class=s1 >'endog'</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=n >endog_basename</span> <span class=o >=</span> <span class=n >endog_names</span>
        <span class=c1 ># TODO: note, the [1:] is specific to current MNLogit</span>
        <span class=n >endog_names</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >model</span><span class=o >.</span><span class=n >endog_names</span><span class=p >[</span><span class=mi >1</span><span class=p >:]</span>

    <span class=n >tables</span> <span class=o >=</span> <span class=p >[]</span>
    <span class=k >for</span> <span class=n >eq</span> <span class=ow >in</span> <span class=nb >range</span><span class=p >(</span><span class=n >n_equ</span><span class=p >):</span>
        <span class=n >restup</span> <span class=o >=</span> <span class=p >(</span><span class=n >res</span><span class=p >,</span> <span class=n >res</span><span class=o >.</span><span class=n >params</span><span class=p >[:,</span><span class=n >eq</span><span class=p >],</span> <span class=n >res</span><span class=o >.</span><span class=n >bse</span><span class=p >[:,</span><span class=n >eq</span><span class=p >],</span> <span class=n >res</span><span class=o >.</span><span class=n >tvalues</span><span class=p >[:,</span><span class=n >eq</span><span class=p >],</span>
                  <span class=n >res</span><span class=o >.</span><span class=n >pvalues</span><span class=p >[:,</span><span class=n >eq</span><span class=p >],</span> <span class=n >res</span><span class=o >.</span><span class=n >conf_int</span><span class=p >(</span><span class=n >alpha</span><span class=p >)[</span><span class=n >eq</span><span class=p >])</span>

        <span class=n >skiph</span> <span class=o >=</span> <span class=kc >False</span>
        <span class=n >tble</span> <span class=o >=</span> <span class=n >summary_params</span><span class=p >(</span><span class=n >restup</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=n >endog_names</span><span class=p >[</span><span class=n >eq</span><span class=p >],</span>
                              <span class=n >xname</span><span class=o >=</span><span class=n >exog_names</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=n >alpha</span><span class=p >,</span> <span class=n >use_t</span><span class=o >=</span><span class=n >use_t</span><span class=p >,</span>
                              <span class=n >skip_header</span><span class=o >=</span><span class=n >skiph</span><span class=p >)</span>

        <span class=n >tables</span><span class=o >.</span><span class=n >append</span><span class=p >(</span><span class=n >tble</span><span class=p >)</span>

    <span class=c1 ># add titles, they will be moved to header lines in table_extend</span>
    <span class=k >for</span> <span class=n >i</span> <span class=ow >in</span> <span class=nb >range</span><span class=p >(</span><span class=nb >len</span><span class=p >(</span><span class=n >endog_names</span><span class=p >)):</span>
        <span class=n >tables</span><span class=p >[</span><span class=n >i</span><span class=p >]</span><span class=o >.</span><span class=n >title</span> <span class=o >=</span> <span class=n >endog_names</span><span class=p >[</span><span class=n >i</span><span class=p >]</span>

    <span class=n >table_all</span> <span class=o >=</span> <span class=n >table_extend</span><span class=p >(</span><span class=n >tables</span><span class=p >,</span> <span class=n >keep_headers</span><span class=o >=</span><span class=n >keep_headers</span><span class=p >)</span>

    <span class=k >return</span> <span class=n >tables</span><span class=p >,</span> <span class=n >table_all</span>


<span class=k >def</span> <span class=nf >table_extend</span><span class=p >(</span><span class=n >tables</span><span class=p >,</span> <span class=n >keep_headers</span><span class=o >=</span><span class=kc >True</span><span class=p >):</span>
    <span class=sd >'''extend a list of SimpleTables, adding titles to header of subtables</span>

<span class=sd >    This function returns the merged table as a deepcopy, in contrast to the</span>
<span class=sd >    SimpleTable extend method.</span>

<span class=sd >    Parameters</span>
<span class=sd >    ----------</span>
<span class=sd >    tables : list of SimpleTable instances</span>
<span class=sd >    keep_headers : bool</span>
<span class=sd >        If true, then all headers are kept. If falls, then the headers of</span>
<span class=sd >        subtables are blanked out.</span>

<span class=sd >    Returns</span>
<span class=sd >    -------</span>
<span class=sd >    table_all : SimpleTable</span>
<span class=sd >        merged tables as a single SimpleTable instance</span>

<span class=sd >    '''</span>
    <span class=kn >from</span> <span class=nn >copy</span> <span class=kn >import</span> <span class=n >deepcopy</span>
    <span class=k >for</span> <span class=n >ii</span><span class=p >,</span> <span class=n >t</span> <span class=ow >in</span> <span class=nb >enumerate</span><span class=p >(</span><span class=n >tables</span><span class=p >[:]):</span> <span class=c1 >#[1:]:</span>
        <span class=n >t</span> <span class=o >=</span> <span class=n >deepcopy</span><span class=p >(</span><span class=n >t</span><span class=p >)</span>

        <span class=c1 >#move title to first cell of header</span>
        <span class=c1 ># TODO: check if we have multiline headers</span>
        <span class=k >if</span> <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >]</span><span class=o >.</span><span class=n >datatype</span> <span class=o >==</span> <span class=s1 >'header'</span><span class=p >:</span>
            <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span><span class=o >.</span><span class=n >data</span> <span class=o >=</span> <span class=n >t</span><span class=o >.</span><span class=n >title</span>
            <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span><span class=o >.</span><span class=n >_datatype</span> <span class=o >=</span> <span class=kc >None</span>
            <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >0</span><span class=p >]</span><span class=o >.</span><span class=n >row</span> <span class=o >=</span> <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >1</span><span class=p >]</span><span class=o >.</span><span class=n >row</span>
            <span class=k >if</span> <span class=ow >not</span> <span class=n >keep_headers</span> <span class=ow >and</span> <span class=p >(</span><span class=n >ii</span> <span class=o >&gt;</span> <span class=mi >0</span><span class=p >):</span>
                <span class=k >for</span> <span class=n >c</span> <span class=ow >in</span> <span class=n >t</span><span class=p >[</span><span class=mi >0</span><span class=p >][</span><span class=mi >1</span><span class=p >:]:</span>
                    <span class=n >c</span><span class=o >.</span><span class=n >data</span> <span class=o >=</span> <span class=s1 >''</span>

        <span class=c1 ># add separating line and extend tables</span>
        <span class=k >if</span> <span class=n >ii</span> <span class=o >==</span> <span class=mi >0</span><span class=p >:</span>
            <span class=n >table_all</span> <span class=o >=</span> <span class=n >t</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=n >r1</span> <span class=o >=</span> <span class=n >table_all</span><span class=p >[</span><span class=o >-</span><span class=mi >1</span><span class=p >]</span>
            <span class=n >r1</span><span class=o >.</span><span class=n >add_format</span><span class=p >(</span><span class=s1 >'txt'</span><span class=p >,</span> <span class=n >row_dec_below</span><span class=o >=</span><span class=s1 >'-'</span><span class=p >)</span>
            <span class=n >table_all</span><span class=o >.</span><span class=n >extend</span><span class=p >(</span><span class=n >t</span><span class=p >)</span>

    <span class=n >table_all</span><span class=o >.</span><span class=n >title</span> <span class=o >=</span> <span class=kc >None</span>
    <span class=k >return</span> <span class=n >table_all</span>


<span class=k >def</span> <span class=nf >summary_return</span><span class=p >(</span><span class=n >tables</span><span class=p >,</span> <span class=n >return_fmt</span><span class=o >=</span><span class=s1 >'text'</span><span class=p >):</span>
    <span class=c1 ># join table parts then print</span>
    <span class=k >if</span> <span class=n >return_fmt</span> <span class=o >==</span> <span class=s1 >'text'</span><span class=p >:</span>
        <span class=n >strdrop</span> <span class=o >=</span> <span class=k >lambda</span> <span class=n >x</span><span class=p >:</span> <span class=nb >str</span><span class=p >(</span><span class=n >x</span><span class=p >)</span><span class=o >.</span><span class=n >rsplit</span><span class=p >(</span><span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=p >,</span><span class=mi >1</span><span class=p >)[</span><span class=mi >0</span><span class=p >]</span>
        <span class=c1 ># convert to string drop last line</span>
        <span class=k >return</span> <span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=o >.</span><span class=n >join</span><span class=p >(</span><span class=n >lmap</span><span class=p >(</span><span class=n >strdrop</span><span class=p >,</span> <span class=n >tables</span><span class=p >[:</span><span class=o >-</span><span class=mi >1</span><span class=p >])</span> <span class=o >+</span> <span class=p >[</span><span class=nb >str</span><span class=p >(</span><span class=n >tables</span><span class=p >[</span><span class=o >-</span><span class=mi >1</span><span class=p >])])</span>
    <span class=k >elif</span> <span class=n >return_fmt</span> <span class=o >==</span> <span class=s1 >'tables'</span><span class=p >:</span>
        <span class=k >return</span> <span class=n >tables</span>
    <span class=k >elif</span> <span class=n >return_fmt</span> <span class=o >==</span> <span class=s1 >'csv'</span><span class=p >:</span>
        <span class=k >return</span> <span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=o >.</span><span class=n >join</span><span class=p >(</span><span class=n >x</span><span class=o >.</span><span class=n >as_csv</span><span class=p >()</span> <span class=k >for</span> <span class=n >x</span> <span class=ow >in</span> <span class=n >tables</span><span class=p >)</span>
    <span class=k >elif</span> <span class=n >return_fmt</span> <span class=o >==</span> <span class=s1 >'latex'</span><span class=p >:</span>
        <span class=c1 ># TODO: insert \hline after updating SimpleTable</span>
        <span class=n >table</span> <span class=o >=</span> <span class=n >copy</span><span class=o >.</span><span class=n >deepcopy</span><span class=p >(</span><span class=n >tables</span><span class=p >[</span><span class=mi >0</span><span class=p >])</span>
        <span class=k >for</span> <span class=n >part</span> <span class=ow >in</span> <span class=n >tables</span><span class=p >[</span><span class=mi >1</span><span class=p >:]:</span>
            <span class=n >table</span><span class=o >.</span><span class=n >extend</span><span class=p >(</span><span class=n >part</span><span class=p >)</span>
        <span class=k >return</span> <span class=n >table</span><span class=o >.</span><span class=n >as_latex_tabular</span><span class=p >()</span>
    <span class=k >elif</span> <span class=n >return_fmt</span> <span class=o >==</span> <span class=s1 >'html'</span><span class=p >:</span>
        <span class=k >return</span> <span class=s2 >"</span><span class=se >\n</span><span class=s2 >"</span><span class=o >.</span><span class=n >join</span><span class=p >(</span><span class=n >table</span><span class=o >.</span><span class=n >as_html</span><span class=p >()</span> <span class=k >for</span> <span class=n >table</span> <span class=ow >in</span> <span class=n >tables</span><span class=p >)</span>
    <span class=k >else</span><span class=p >:</span>
        <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'available output formats are text, csv, latex, html'</span><span class=p >)</span>


<span class=k >class</span> <span class=nc >Summary</span><span class=p >(</span><span class=nb >object</span><span class=p >):</span>
    <span class=sd >"""</span>
<span class=sd >    Result summary</span>

<span class=sd >    Construction does not take any parameters. Tables and text can be added</span>
<span class=sd >    with the `add_` methods.</span>

<span class=sd >    Attributes</span>
<span class=sd >    ----------</span>
<span class=sd >    tables : list of tables</span>
<span class=sd >        Contains the list of SimpleTable instances, horizontally concatenated</span>
<span class=sd >        tables are not saved separately.</span>
<span class=sd >    extra_txt : str</span>
<span class=sd >        extra lines that are added to the text output, used for warnings</span>
<span class=sd >        and explanations.</span>
<span class=sd >    """</span>
    <span class=k >def</span> <span class=fm >__init__</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=bp >self</span><span class=o >.</span><span class=n >tables</span> <span class=o >=</span> <span class=p >[]</span>
        <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=o >=</span> <span class=kc >None</span>

    <span class=k >def</span> <span class=fm >__str__</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=k >return</span> <span class=bp >self</span><span class=o >.</span><span class=n >as_text</span><span class=p >()</span>

    <span class=k >def</span> <span class=fm >__repr__</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=k >return</span> <span class=nb >str</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=bp >self</span><span class=p >))</span> <span class=o >+</span> <span class=s1 >'</span><span class=se >\n</span><span class=s1 >"""</span><span class=se >\n</span><span class=s1 >'</span> <span class=o >+</span> <span class=bp >self</span><span class=o >.</span><span class=fm >__str__</span><span class=p >()</span> <span class=o >+</span> <span class=s1 >'</span><span class=se >\n</span><span class=s1 >"""'</span>

    <span class=k >def</span> <span class=nf >_repr_html_</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=sd >'''Display as HTML in IPython notebook.'''</span>
        <span class=k >return</span> <span class=bp >self</span><span class=o >.</span><span class=n >as_html</span><span class=p >()</span>

<div class=viewcode-block  id=Summary.add_table_2cols ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.add_table_2cols.html#linearmodels.compat.statsmodels.Summary.add_table_2cols">[docs]</a>    <span class=k >def</span> <span class=nf >add_table_2cols</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >res</span><span class=p >,</span>  <span class=n >title</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >gleft</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >gright</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span>
                        <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >):</span>
        <span class=sd >"""</span>
<span class=sd >        Add a double table, 2 tables with one column merged horizontally</span>

<span class=sd >        Parameters</span>
<span class=sd >        ----------</span>
<span class=sd >        res : results instance</span>
<span class=sd >            some required information is directly taken from the result</span>
<span class=sd >            instance</span>
<span class=sd >        title : str, optional</span>
<span class=sd >            if None, then a default title is used.</span>
<span class=sd >        gleft : list[tuple], optional</span>
<span class=sd >            elements for the left table, tuples are (name, value) pairs</span>
<span class=sd >            If gleft is None, then a default table is created</span>
<span class=sd >        gright : list[tuple], optional</span>
<span class=sd >            elements for the right table, tuples are (name, value) pairs</span>
<span class=sd >        yname : str, optional</span>
<span class=sd >            optional name for the endogenous variable, default is "y"</span>
<span class=sd >        xname : list[str], optional</span>
<span class=sd >            optional names for the exogenous variables, default is "var_xx".</span>
<span class=sd >            Must match the number of parameters in the model.</span>
<span class=sd >        """</span>

        <span class=n >table</span> <span class=o >=</span> <span class=n >summary_top</span><span class=p >(</span><span class=n >res</span><span class=p >,</span> <span class=n >title</span><span class=o >=</span><span class=n >title</span><span class=p >,</span> <span class=n >gleft</span><span class=o >=</span><span class=n >gleft</span><span class=p >,</span> <span class=n >gright</span><span class=o >=</span><span class=n >gright</span><span class=p >,</span>
                            <span class=n >yname</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=n >xname</span><span class=p >)</span>
        <span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=o >.</span><span class=n >append</span><span class=p >(</span><span class=n >table</span><span class=p >)</span></div>

<div class=viewcode-block  id=Summary.add_table_params ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.add_table_params.html#linearmodels.compat.statsmodels.Summary.add_table_params">[docs]</a>    <span class=k >def</span> <span class=nf >add_table_params</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >res</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=kc >None</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=mf >.05</span><span class=p >,</span>
                         <span class=n >use_t</span><span class=o >=</span><span class=kc >True</span><span class=p >):</span>
        <span class=sd >'''create and add a table for the parameter estimates</span>

<span class=sd >        Parameters</span>
<span class=sd >        ----------</span>
<span class=sd >        res : results instance</span>
<span class=sd >            some required information is directly taken from the result</span>
<span class=sd >            instance</span>
<span class=sd >        yname : {str, None}</span>
<span class=sd >            optional name for the endogenous variable, default is "y"</span>
<span class=sd >        xname : {list[str], None}</span>
<span class=sd >            optional names for the exogenous variables, default is "var_xx"</span>
<span class=sd >        alpha : float</span>
<span class=sd >            significance level for the confidence intervals</span>
<span class=sd >        use_t : bool</span>
<span class=sd >            indicator whether the p-values are based on the Student-t</span>
<span class=sd >            distribution (if True) or on the normal distribution (if False)</span>

<span class=sd >        Returns</span>
<span class=sd >        -------</span>
<span class=sd >        None : table is attached</span>

<span class=sd >        '''</span>
        <span class=k >if</span> <span class=n >res</span><span class=o >.</span><span class=n >params</span><span class=o >.</span><span class=n >ndim</span> <span class=o >==</span> <span class=mi >1</span><span class=p >:</span>
            <span class=n >table</span> <span class=o >=</span> <span class=n >summary_params</span><span class=p >(</span><span class=n >res</span><span class=p >,</span> <span class=n >yname</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span> <span class=n >xname</span><span class=o >=</span><span class=n >xname</span><span class=p >,</span> <span class=n >alpha</span><span class=o >=</span><span class=n >alpha</span><span class=p >,</span>
                                   <span class=n >use_t</span><span class=o >=</span><span class=n >use_t</span><span class=p >)</span>
        <span class=k >elif</span> <span class=n >res</span><span class=o >.</span><span class=n >params</span><span class=o >.</span><span class=n >ndim</span> <span class=o >==</span> <span class=mi >2</span><span class=p >:</span>
            <span class=n >_</span><span class=p >,</span> <span class=n >table</span> <span class=o >=</span> <span class=n >summary_params_2dflat</span><span class=p >(</span><span class=n >res</span><span class=p >,</span> <span class=n >endog_names</span><span class=o >=</span><span class=n >yname</span><span class=p >,</span>
                                             <span class=n >exog_names</span><span class=o >=</span><span class=n >xname</span><span class=p >,</span>
                                             <span class=n >alpha</span><span class=o >=</span><span class=n >alpha</span><span class=p >,</span> <span class=n >use_t</span><span class=o >=</span><span class=n >use_t</span><span class=p >)</span>
        <span class=k >else</span><span class=p >:</span>
            <span class=k >raise</span> <span class=ne >ValueError</span><span class=p >(</span><span class=s1 >'params has to be 1d or 2d'</span><span class=p >)</span>
        <span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=o >.</span><span class=n >append</span><span class=p >(</span><span class=n >table</span><span class=p >)</span></div>

<div class=viewcode-block  id=Summary.add_extra_txt ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.add_extra_txt.html#linearmodels.compat.statsmodels.Summary.add_extra_txt">[docs]</a>    <span class=k >def</span> <span class=nf >add_extra_txt</span><span class=p >(</span><span class=bp >self</span><span class=p >,</span> <span class=n >etext</span><span class=p >):</span>
        <span class=sd >'''add additional text that will be added at the end in text format</span>

<span class=sd >        Parameters</span>
<span class=sd >        ----------</span>
<span class=sd >        etext : list[str]</span>
<span class=sd >            string with lines that are added to the text output.</span>

<span class=sd >        '''</span>
        <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=o >=</span> <span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=o >.</span><span class=n >join</span><span class=p >(</span><span class=n >etext</span><span class=p >)</span></div>

<div class=viewcode-block  id=Summary.as_text ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.as_text.html#linearmodels.compat.statsmodels.Summary.as_text">[docs]</a>    <span class=k >def</span> <span class=nf >as_text</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=sd >'''return tables as string</span>

<span class=sd >        Returns</span>
<span class=sd >        -------</span>
<span class=sd >        txt : str</span>
<span class=sd >            summary tables and extra text as one string</span>

<span class=sd >        '''</span>
        <span class=n >txt</span> <span class=o >=</span> <span class=n >summary_return</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=p >,</span> <span class=n >return_fmt</span><span class=o >=</span><span class=s1 >'text'</span><span class=p >)</span>
        <span class=k >if</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >txt</span> <span class=o >=</span> <span class=n >txt</span> <span class=o >+</span> <span class=s1 >'</span><span class=se >\n\n</span><span class=s1 >'</span> <span class=o >+</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span>
        <span class=k >return</span> <span class=n >txt</span></div>

<div class=viewcode-block  id=Summary.as_latex ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.as_latex.html#linearmodels.compat.statsmodels.Summary.as_latex">[docs]</a>    <span class=k >def</span> <span class=nf >as_latex</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=sd >'''return tables as string</span>

<span class=sd >        Returns</span>
<span class=sd >        -------</span>
<span class=sd >        latex : str</span>
<span class=sd >            summary tables and extra text as string of Latex</span>

<span class=sd >        Notes</span>
<span class=sd >        -----</span>
<span class=sd >        This currently merges tables with different number of columns.</span>
<span class=sd >        It is recommended to use `as_latex_tabular` directly on the individual</span>
<span class=sd >        tables.</span>

<span class=sd >        '''</span>
        <span class=n >latex</span> <span class=o >=</span> <span class=n >summary_return</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=p >,</span> <span class=n >return_fmt</span><span class=o >=</span><span class=s1 >'latex'</span><span class=p >)</span>
        <span class=k >if</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >latex</span> <span class=o >=</span> <span class=n >latex</span> <span class=o >+</span> <span class=s1 >'</span><span class=se >\n\n</span><span class=s1 >'</span> <span class=o >+</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span><span class=o >.</span><span class=n >replace</span><span class=p >(</span><span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=p >,</span> <span class=s1 >' </span><span class=se >\\</span><span class=s1 >newline</span><span class=se >\n</span><span class=s1 > '</span><span class=p >)</span>
        <span class=k >return</span> <span class=n >latex</span></div>

<div class=viewcode-block  id=Summary.as_csv ><a class=viewcode-back  href="../../../compatibility/linearmodels.compat.statsmodels.Summary.as_csv.html#linearmodels.compat.statsmodels.Summary.as_csv">[docs]</a>    <span class=k >def</span> <span class=nf >as_csv</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=sd >'''return tables as string</span>

<span class=sd >        Returns</span>
<span class=sd >        -------</span>
<span class=sd >        csv : str</span>
<span class=sd >            concatenated summary tables in comma delimited format</span>

<span class=sd >        '''</span>
        <span class=n >csv</span> <span class=o >=</span> <span class=n >summary_return</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=p >,</span> <span class=n >return_fmt</span><span class=o >=</span><span class=s1 >'csv'</span><span class=p >)</span>
        <span class=k >if</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >csv</span> <span class=o >=</span> <span class=n >csv</span> <span class=o >+</span> <span class=s1 >'</span><span class=se >\n\n</span><span class=s1 >'</span> <span class=o >+</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span>
        <span class=k >return</span> <span class=n >csv</span></div>

    <span class=k >def</span> <span class=nf >as_html</span><span class=p >(</span><span class=bp >self</span><span class=p >):</span>
        <span class=sd >'''return tables as string</span>

<span class=sd >        Returns</span>
<span class=sd >        -------</span>
<span class=sd >        html : str</span>
<span class=sd >            concatenated summary tables in HTML format</span>

<span class=sd >        '''</span>
        <span class=n >html</span> <span class=o >=</span> <span class=n >summary_return</span><span class=p >(</span><span class=bp >self</span><span class=o >.</span><span class=n >tables</span><span class=p >,</span> <span class=n >return_fmt</span><span class=o >=</span><span class=s1 >'html'</span><span class=p >)</span>
        <span class=k >if</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span> <span class=ow >is</span> <span class=ow >not</span> <span class=kc >None</span><span class=p >:</span>
            <span class=n >html</span> <span class=o >=</span> <span class=n >html</span> <span class=o >+</span> <span class=s1 >'&lt;br/&gt;&lt;br/&gt;'</span> <span class=o >+</span> <span class=bp >self</span><span class=o >.</span><span class=n >extra_txt</span><span class=o >.</span><span class=n >replace</span><span class=p >(</span><span class=s1 >'</span><span class=se >\n</span><span class=s1 >'</span><span class=p >,</span> <span class=s1 >'&lt;br/&gt;'</span><span class=p >)</span>
        <span class=k >return</span> <span class=n >html</span>
</pre></div> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2017, Kevin Sheppard. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.0.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../../../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>