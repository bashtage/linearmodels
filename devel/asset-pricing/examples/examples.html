


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../_static/favicon.ico">
    
    
  
      
        <title>Examples - arch v4.30 (+5)</title>
      
    

  <link rel="apple-touch-icon" sizes="180x180" href="../../_static/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../_static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../_static/icons/favicon-16x16.png">
  <link rel="manifest" href="../../_static/icons/site.webmanifest">
  <link rel="mask-icon" href="../../_static/icons/safari-pinned-tab.svg" color="#2196f3">
  <link rel="shortcut icon" href="../../_static/icons/favicon.ico">
  <meta name="msapplication-TileColor" content="#f8f8f8">
  <meta name="msapplication-config" content="../../_static/icons/browserconfig.xml">
  <style>
  .highlight {
    background-color: hsla(0,0%,92.5%,.5) !important;
  }
  </style>

    
      
        
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.8118e13f191069ea1.min.css" />
        <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />
        <link rel="stylesheet" type="text/css" href="../../_static/css/small_fixes.css" />
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#General-Setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="arch v4.30 (+5)" class="md-header__button md-logo" aria-label="arch v4.30 (+5)" data-md-component="logo">
      <img src="../../_static/bw-logo.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            arch v4.30 (+5)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Examples
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bashtage/linearmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    linearmodels
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="arch v4.30 (+5)" class="md-nav__button md-logo" aria-label="arch v4.30 (+5)" data-md-component="logo">
      <img src="../../_static/bw-logo.svg" alt="logo">
    </a>
    arch v4.30 (+5)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bashtage/linearmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    linearmodels
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../iv/index.html" class="md-nav__link">
        <span title="/iv/index.rst (reference label)" class="md-ellipsis">Instrumental Variable Estimation</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../panel/index.html" class="md-nav__link">
        <span title="/panel/index.rst (reference label)" class="md-ellipsis">Panel Data Model Estimation</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../index.html"><span title="/asset-pricing/index.rst (reference label)" class="md-ellipsis">Linear Factor Models for Asset Pricing</span></a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Linear Factor Models for Asset Pricing" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          <span title="/asset-pricing/index.rst (reference label)" class="md-ellipsis">Linear Factor Models for Asset Pricing</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction.html" class="md-nav__link">
        <span title="/asset-pricing/introduction.rst (reference label)" class="md-ellipsis">Introduction</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span title="/asset-pricing/examples/examples.ipynb (reference label)" class="md-ellipsis">Examples</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span title="/asset-pricing/examples/examples.ipynb (reference label)" class="md-ellipsis">Examples</span>
      </a>
      
        

  

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#General-Setup" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#general-setup (reference label)" class="md-ellipsis">General Setup</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Import-data" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#import-data (reference label)" class="md-ellipsis">Import data</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Transform-the-portfolios-to-be-excesses" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#transform-the-portfolios-to-be-excesses (reference label)" class="md-ellipsis">Transform the portfolios to be excesses</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#1-step-estimation-using-seemingly-unrelated-regression-(sur) (reference label)" class="md-ellipsis">1-<wbr>Step Estimation using Seemingly Unrelated Regression <wbr>(SUR)</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-Step-Estimation" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#2-step-estimation (reference label)" class="md-ellipsis">2-<wbr>Step Estimation</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#GMM-Estimation" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#gmm-estimation (reference label)" class="md-ellipsis">GMM Estimation</span>
  </a>
  
    <nav class="md-nav" aria-label="GMM Estimation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Iterating-until-convergence" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#iterating-until-convergence (reference label)" class="md-ellipsis">Iterating until convergence</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Continuously-Updating-Estimator" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#continuously-updating-estimator (reference label)" class="md-ellipsis">Continuously Updating Estimator</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="formulas.html" class="md-nav__link">
        <span title="/asset-pricing/examples/formulas.ipynb (reference label)" class="md-ellipsis">Using Formulas</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference.html" class="md-nav__link">
        <span title="/asset-pricing/reference.rst (reference label)" class="md-ellipsis">Module Reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../mathematical-formula.html" class="md-nav__link">
        <span title="/asset-pricing/mathematical-formula.rst (reference label)" class="md-ellipsis">Formulas and Mathematical Detail</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../system/index.html" class="md-nav__link">
        <span title="/system/index.rst (reference label)" class="md-ellipsis">System Regression Models</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../utility.html" class="md-nav__link">
        <span title="/utility.rst (reference label)" class="md-ellipsis">Utilities</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../compatibility.html" class="md-nav__link">
        <span title="/compatibility.rst (reference label)" class="md-ellipsis">Compatibility</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../plan.html" class="md-nav__link">
        <span title="/plan.rst (reference label)" class="md-ellipsis">Module Plans</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing.html" class="md-nav__link">
        <span title="/contributing.rst (reference label)" class="md-ellipsis">Contributing</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../changes.html" class="md-nav__link">
        <span title="/changes.rst (reference label)" class="md-ellipsis">Change Log</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../references.html" class="md-nav__link">
        <span title="/references.rst (reference label)" class="md-ellipsis">References</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#General-Setup" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#general-setup (reference label)" class="md-ellipsis">General Setup</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Import-data" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#import-data (reference label)" class="md-ellipsis">Import data</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Transform-the-portfolios-to-be-excesses" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#transform-the-portfolios-to-be-excesses (reference label)" class="md-ellipsis">Transform the portfolios to be excesses</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#1-step-estimation-using-seemingly-unrelated-regression-(sur) (reference label)" class="md-ellipsis">1-<wbr>Step Estimation using Seemingly Unrelated Regression <wbr>(SUR)</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-Step-Estimation" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#2-step-estimation (reference label)" class="md-ellipsis">2-<wbr>Step Estimation</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#GMM-Estimation" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#gmm-estimation (reference label)" class="md-ellipsis">GMM Estimation</span>
  </a>
  
    <nav class="md-nav" aria-label="GMM Estimation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Iterating-until-convergence" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#iterating-until-convergence (reference label)" class="md-ellipsis">Iterating until convergence</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Continuously-Updating-Estimator" class="md-nav__link">
    <span title="/asset-pricing/examples/examples.ipynb#continuously-updating-estimator (reference label)" class="md-ellipsis">Continuously Updating Estimator</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="Examples">Examples<a class="headerlink" href="#Examples" title="Permalink to this heading">¶</a></h1>
<h2 id="General-Setup">General Setup<a class="headerlink" href="#General-Setup" title="Permalink to this heading">¶</a></h2>
<p>Models include factors and returns. Factors can be traded or non-traded. Common examples of traded assets include the excess return on the market and the size and value factors. Examples of non-traded assets include macroeconomic shocks and measures of uncertainty.</p>
<p>Models are tested using a set of test portfolios. Test portfolios are often excess returns although they do not need to be.</p>
<h2 id="Import-data">Import data<a class="headerlink" href="#Import-data" title="Permalink to this heading">¶</a></h2>
<p>The data used comes from Ken French”s <a class="reference external" href="http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">website</a> and includes 4 factor returns, the excess market, the size factor, the value factor and the momentum factor. The available test portfolios include the 12 industry portfolios, a subset of the size-value two way sort, and a subset of the size-momentum two way sort.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[1]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.datasets</span> <span class="kn">import</span> <span class="n">french</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">french</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">french</span><span class="o">.</span><span class="n">DESCR</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Data from Ken French&#39;s data library
http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html

dates    Year and Month of Return
MktRF    Market Factor
SMB      Size Factor
HML      Value Factor
Mom      Momentum Factor
RF       Risk-free rate
NoDur    Industry: Non-durables
Durbl    Industry: Durables
Manuf    Industry: Manufacturing
Enrgy    Industry: Energy
Chems    Industry: Chemicals
BusEq    Industry: Business Equipment
Telcm    Industry: Telecoms
Utils    Industry: Utilities
Shops    Industry: Retail
Hlth     Industry: Health care
Money    Industry: Finance
Other    Industry: Other
S1V1     Small firms, low value
S1V3     Small firms, medium value
S1V5     Small firms, high value
S3V1     Size 3, value 1
S3V3     Size 3, value 3
S3V5     Size 3, value 5
S5V1     Large firms, Low value
S5V3     Large firms, medium value
S5V5     Large Firms, High value
S1M1     Small firms, losers
S1M3     Small firms, neutral
S1M5     Small firms, winners
S3M1     Size 3, momentum 1
S3M3     Size 3, momentum 3
S3M5     Size 3, momentum 5
S5M1     Large firms, losers
S5M3     Large firms, neutral
S5M5     Large firms, winners

</pre></div></div>
</div>
<h2 id="Transform-the-portfolios-to-be-excesses">Transform the portfolios to be excesses<a class="headerlink" href="#Transform-the-portfolios-to-be-excesses" title="Permalink to this heading">¶</a></h2>
<p>Subtract the risk-free rate from the test portfolios since these are not zero-investment.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[2]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">6</span><span class="p">:]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">6</span><span class="p">:]</span><span class="o">.</span><span class="n">values</span> <span class="o">-</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;RF&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
</code></pre></div>
</div>
</div>
<h2 id="1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)">1-Step Estimation using Seemingly Unrelated Regression (SUR)<a class="headerlink" href="#1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)" title="Permalink to this heading">¶</a></h2>
<p>When the factors are traded assets, they must price themselves, and so the observed factor returns can be used to consistently estimate the expected factor returns. This also allows a set of seemingly unrelated regressions where each test portfolio is regressed on the factors and a constant to estimate factor loadings and <span class="math notranslate nohighlight">\(\alpha\)</span>s.</p>
<p>Note that when using this type of model, it is essential that the test portfolios are excess returns. This is not a requirement of the other factor model estimators.</p>
<p>This specification is a CAP-M since only the market is included. The J-statistic tests whether all model <span class="math notranslate nohighlight">\(\alpha\)</span>s are 0. The CAP-M is unsurprisingly unable to price the test portfolios.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[3]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">TradedFactorModel</span>

<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;S1V1&quot;</span><span class="p">,</span> <span class="s2">&quot;S1V3&quot;</span><span class="p">,</span> <span class="s2">&quot;S1V5&quot;</span><span class="p">,</span> <span class="s2">&quot;S3V1&quot;</span><span class="p">,</span> <span class="s2">&quot;S3V3&quot;</span><span class="p">,</span> <span class="s2">&quot;S3V5&quot;</span><span class="p">,</span> <span class="s2">&quot;S5V1&quot;</span><span class="p">,</span> <span class="s2">&quot;S5V3&quot;</span><span class="p">,</span> <span class="s2">&quot;S5V5&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;MktRF&quot;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.6910
No. Factors:                          1   J-statistic:                    70.034
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(9)
Time:                          16:03:55
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>The factor set is expanded to include both the size and the value factors.</p>
<p>While the extra factors lower the J statistic and increases the <span class="math notranslate nohighlight">\(R^2\)</span>, the model is still easily rejected.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[4]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;MktRF&quot;</span><span class="p">,</span> <span class="s2">&quot;SMB&quot;</span><span class="p">,</span> <span class="s2">&quot;HML&quot;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.8971
No. Factors:                          3   J-statistic:                    53.271
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(9)
Time:                          16:03:55
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
SMB            0.0016     0.0010     1.6021     0.1091     -0.0004      0.0035
HML            0.0035     0.0009     3.6993     0.0002      0.0016      0.0053
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>Changing the test portfolios to include only the industry portfolios does not allow factors to price the assets.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[5]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">indu</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;NoDur&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Durbl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Manuf&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Enrgy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Chems&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BusEq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Telcm&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Utils&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Shops&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Hlth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Money&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Other&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">indu</span><span class="p">]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                 12   R-squared:                      0.7118
No. Factors:                          3   J-statistic:                    61.617
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                 chi2(12)
Time:                          16:03:55
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
SMB            0.0016     0.0010     1.6021     0.1091     -0.0004      0.0035
HML            0.0035     0.0009     3.6993     0.0002      0.0016      0.0053
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>The estimated factor loadings (<span class="math notranslate nohighlight">\(\beta\)</span>s) can be displayed using the <code class="docutils literal notranslate"><span class="pre">betas</span></code> property. There is reasonable dispersion in the factor loadings for all of the factors, except possibly the market which are all close to unity.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[6]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">betas</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
          MktRF       SMB       HML
NoDur  0.803334 -0.029383  0.080556
Durbl  1.176659  0.104124  0.466510
Manuf  1.129601  0.094600  0.197135
Enrgy  0.913425 -0.234012  0.264609
Chems  0.970844 -0.179466  0.092021
BusEq  1.152119  0.182299 -0.543462
Telcm  0.782811 -0.158395  0.044042
Utils  0.605203 -0.175549  0.260051
Shops  0.942997  0.135802 -0.010064
Hlth   0.864135 -0.213336 -0.315180
Money  1.112368 -0.053364  0.378365
Other  1.109851  0.304442  0.237830
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[7]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">betas</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[7]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: &gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/asset-pricing_examples_examples_14_1.png" src="../../_images/asset-pricing_examples_examples_14_1.png" />
</div>
</div>
<p>Similarly the <span class="math notranslate nohighlight">\(\alpha\)</span>s can be displayed. These are monthly returns, and so scaling by 12 shows annualized returns. Healthcare has the largest pricing error.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[8]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="mi">12</span> <span class="o">*</span> <span class="n">res</span><span class="o">.</span><span class="n">alphas</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[8]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
NoDur    0.023360
Durbl   -0.030919
Manuf   -0.010643
Enrgy    0.012009
Chems    0.002783
BusEq    0.024215
Telcm    0.009726
Utils    0.017078
Shops    0.009952
Hlth     0.050760
Money   -0.015197
Other   -0.033345
Name: alpha, dtype: float64
</pre></div></div>
</div>
<h2 id="2-Step-Estimation">2-Step Estimation<a class="headerlink" href="#2-Step-Estimation" title="Permalink to this heading">¶</a></h2>
<p>When one of more factors are not returns on traded assets, it is necessary to use a two-step procedure (or GMM). In the 2-step estimator, the first estimates factor loadings and the second uses the factor loadings to estimate the risk premia.</p>
<p>Here all four factors are used to attempt to price the size-momentum portfolios.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[9]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>

<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;MktRF&quot;</span><span class="p">,</span> <span class="s2">&quot;SMB&quot;</span><span class="p">,</span> <span class="s2">&quot;HML&quot;</span><span class="p">,</span> <span class="s2">&quot;Mom&quot;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;S1M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M5&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.9051
No. Factors:                          4   J-statistic:                    36.929
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(5)
Time:                          16:03:57
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0070     0.0015     4.5385     0.0000      0.0040      0.0100
SMB            0.0005     0.0014     0.3381     0.7353     -0.0023      0.0033
HML            0.0084     0.0025     3.3085     0.0009      0.0034      0.0133
Mom            0.0084     0.0014     5.8072     0.0000      0.0056      0.0112
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[10]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">betas</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
         MktRF       SMB       HML       Mom
S1M1  1.092658  1.224223  0.244844 -0.691191
S1M3  0.874285  0.881880  0.459326 -0.082546
S1M5  1.047256  1.147949  0.239957  0.297941
S3M1  1.156849  0.623684  0.059730 -0.760059
S3M3  0.948556  0.467783  0.333619 -0.135465
S3M5  1.128861  0.713403  0.051098  0.413705
S5M1  1.138597 -0.112936 -0.062397 -0.755032
S5M3  0.946214 -0.200052  0.095270 -0.100067
S5M5  1.078098 -0.046531 -0.069780  0.467172
</pre></div></div>
</div>
<p>The identification requirements for this model are the the <span class="math notranslate nohighlight">\(\beta\)</span>s have unique variation – this requires some cross-sectional differences in exposures and that the loadings are not excessively correlated. Since these test portfolios do not attempt to sort on value, it is relatively non-dispersed and also correlated with both the market and size. This might make the inference unreliable.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[11]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">betas</span><span class="o">.</span><span class="n">corr</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
          MktRF       SMB       HML       Mom
MktRF  1.000000 -0.001914 -0.733916 -0.253675
SMB   -0.001914  1.000000  0.638056 -0.015628
HML   -0.733916  0.638056  1.000000  0.002744
Mom   -0.253675 -0.015628  0.002744  1.000000
</pre></div></div>
</div>
<p>The size factor was insignificant and so is dropped. This does not have much of an effect on the estimates.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[12]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>

<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;MktRF&quot;</span><span class="p">,</span> <span class="s2">&quot;HML&quot;</span><span class="p">,</span> <span class="s2">&quot;Mom&quot;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;S1M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M5&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7915
No. Factors:                          3   J-statistic:                    36.406
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:03:57
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0073     0.0017     4.3856     0.0000      0.0040      0.0105
HML            0.0091     0.0027     3.4361     0.0006      0.0039      0.0143
Mom            0.0084     0.0015     5.7507     0.0000      0.0055      0.0113
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>The risk-free rate can be optionally estimated. This is useful in case excess returns are not available of if the risk-free rate used to construct the excess returns might be misspecified.</p>
<p>Here the estimated risk-free rate is small and insignificant and has little impact on the model J-statistic.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[13]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>

<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;MktRF&quot;</span><span class="p">,</span> <span class="s2">&quot;HML&quot;</span><span class="p">,</span> <span class="s2">&quot;Mom&quot;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;S1M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S1M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S3M5&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M1&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M3&quot;</span><span class="p">,</span> <span class="s2">&quot;S5M5&quot;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">risk_free</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7915
No. Factors:                          3   J-statistic:                    36.005
No. Observations:                   819   P-value                         0.0000
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(5)
Time:                          16:03:57
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
risk_free     -0.0045     0.0079    -0.5607     0.5750     -0.0200      0.0111
MktRF          0.0111     0.0076     1.4636     0.1433     -0.0038      0.0259
HML            0.0110     0.0053     2.0946     0.0362      0.0007      0.0214
Mom            0.0086     0.0014     5.9315     0.0000      0.0058      0.0114
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>The default covariance estimator allows for heteroskedasticity but assumes there is no autocorrelation in the model errors or factor returns. Kernel-based HAC estimators (e.g. Newey-West) can be used by setting <code class="docutils literal notranslate"><span class="pre">cov_type=&quot;kernel&quot;</span></code>.</p>
<p>This reduces the J-statistic indicating there might be some serial correlation although the model is still firmly rejected.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[14]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;kernel&quot;</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7915
No. Factors:                          3   J-statistic:                    25.841
No. Observations:                   819   P-value                         0.0002
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:03:57
Cov. Estimator:                  kernel

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0073     0.0017     4.3094     0.0000      0.0040      0.0106
HML            0.0091     0.0031     2.9499     0.0032      0.0031      0.0152
Mom            0.0084     0.0014     5.8371     0.0000      0.0056      0.0112
==============================================================================

Covariance estimator:
KernelCovariance, Kernel: bartlett, Bandwidth: 12
See full_summary for complete results
</pre></div></div>
</div>
<h2 id="GMM-Estimation">GMM Estimation<a class="headerlink" href="#GMM-Estimation" title="Permalink to this heading">¶</a></h2>
<p>The final estimator is the GMM estimator which is similar to estimating the 2-step model in a single step. In practice the GMM estimator is estimated at least twice, once to get an consistent estimate of the covariance of the moment conditions and the second time to efficiently estimate parameters.</p>
<p>The GMM estimator does not have a closed form and so a non-linear optimizer is required. The default output prints the progress every 10 iterations. Here the model is fit twice, which is the standard method to implement efficient GMM.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[15]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModelGMM</span>

<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModelGMM</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 47.75791582822472
Iteration: 10, Objective: 28.102587863294254
Iteration: 20, Objective: 26.361385291036818
Iteration: 30, Objective: 26.019667283111943
Iteration: 40, Objective: 22.325343252976985
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.325343
         Iterations: 41
         Function evaluations: 2596
         Gradient evaluations: 76
Iteration: 0, Objective: 22.519350283466594
Iteration: 10, Objective: 22.303730340555415
Iteration: 20, Objective: 22.226427020276983
Iteration: 30, Objective: 22.193081228657324
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.066871
         Iterations: 39
         Function evaluations: 2663
         Gradient evaluations: 78
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7904
No. Factors:                          3   J-statistic:                    22.067
No. Observations:                   819   P-value                         0.0012
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:03:59
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0067     0.0015     4.4335     0.0000      0.0037      0.0097
HML            0.0135     0.0023     5.8706     0.0000      0.0090      0.0180
Mom            0.0094     0.0014     6.5139     0.0000      0.0066      0.0123
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<p>Kernel HAC estimators can be used with this estimator as well. Using a kernel HAC covariance also implies a Kernel HAC weighting matrix estimator.</p>
<p>Here the GMM estimator along with the HAC estimator indicates that these factors might be able to price this set of 9 test portfolios. <code class="docutils literal notranslate"><span class="pre">disp=0</span></code> is used to suppress iterative output.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[16]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;kernel&quot;</span><span class="p">,</span> <span class="n">kernel</span><span class="o">=</span><span class="s2">&quot;bartlett&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7901
No. Factors:                          3   J-statistic:                    13.833
No. Observations:                   819   P-value                         0.0316
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:04:02
Cov. Estimator:                  kernel

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0074     0.0014     5.1450     0.0000      0.0046      0.0102
HML            0.0137     0.0030     4.5918     0.0000      0.0078      0.0195
Mom            0.0078     0.0013     6.0849     0.0000      0.0053      0.0103
==============================================================================

Covariance estimator:
KernelCovariance, Kernel: bartlett, Bandwidth: 20
See full_summary for complete results
</pre></div></div>
</div>
<h3 id="Iterating-until-convergence">Iterating until convergence<a class="headerlink" href="#Iterating-until-convergence" title="Permalink to this heading">¶</a></h3>
<p>The standard approach is efficient and uses 2-steps. The first consistently estimates parameters using a sub-optimal weighting matrix, and the second uses the optimal weighting matrix conditional using the first stage estimates.</p>
<p>This method can be repeated until convergence, or for a fixed number of steps using the <code class="docutils literal notranslate"><span class="pre">steps</span></code> keyword argument.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[17]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 47.75791582822472
Iteration: 25, Objective: 26.280320453422526
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.325343
         Iterations: 41
         Function evaluations: 2596
         Gradient evaluations: 76
Iteration: 0, Objective: 22.519350283466594
Iteration: 25, Objective: 22.222217729443333
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.066871
         Iterations: 39
         Function evaluations: 2663
         Gradient evaluations: 78
Iteration: 0, Objective: 22.09415705415857
Iteration: 25, Objective: 22.09126659209813
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.089908
         Iterations: 37
         Function evaluations: 2392
         Gradient evaluations: 70
Iteration: 0, Objective: 22.088798284658004
Iteration: 25, Objective: 22.0887714231204
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.088753
         Iterations: 37
         Function evaluations: 2970
         Gradient evaluations: 87
Iteration: 0, Objective: 22.088622410712894
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.088622
         Iterations: 4
         Function evaluations: 1338
         Gradient evaluations: 39
Iteration: 0, Objective: 22.08862233395225
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.088622
         Iterations: 3
         Function evaluations: 1644
         Gradient evaluations: 48
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7904
No. Factors:                          3   J-statistic:                    22.089
No. Observations:                   819   P-value                         0.0012
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:04:08
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0067     0.0015     4.4231     0.0000      0.0037      0.0096
HML            0.0135     0.0023     5.8726     0.0000      0.0090      0.0180
Mom            0.0094     0.0014     6.5017     0.0000      0.0066      0.0123
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>
<h3 id="Continuously-Updating-Estimator">Continuously Updating Estimator<a class="headerlink" href="#Continuously-Updating-Estimator" title="Permalink to this heading">¶</a></h3>
<p>The Continuously Updating Estimator (CUE) is optionally available using the flag <code class="docutils literal notranslate"><span class="pre">use_cue</span></code>. CUE jointly minimizes the J-statistic as a function of the moment conditions and the weighting matrix, rather than iterating between minimizing the J-statistic for a fixed weighting matrix and updating the weighting matrix.</p>
<p>Here the results are essentially the same as in the iterative approach.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[18]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">use_cue</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 47.75791582822472
Iteration: 10, Objective: 28.102587863294254
Iteration: 20, Objective: 26.361385291036818
Iteration: 30, Objective: 26.019667283111943
Iteration: 40, Objective: 22.325343252976985
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.325343
         Iterations: 41
         Function evaluations: 2596
         Gradient evaluations: 76
Iteration: 0, Objective: 22.524477045898372
Iteration: 10, Objective: 22.386053110614757
Iteration: 20, Objective: 22.339803929792485
Iteration: 30, Objective: 22.308307937162958
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 22.077574
         Iterations: 38
         Function evaluations: 3650
         Gradient evaluations: 107
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7903
No. Factors:                          3   J-statistic:                    22.719
No. Observations:                   819   P-value                         0.0009
Date:                  Tue, Apr 25 2023   Distribution:                  chi2(6)
Time:                          16:04:17
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0067     0.0015     4.4157     0.0000      0.0037      0.0096
HML            0.0136     0.0023     5.8881     0.0000      0.0090      0.0181
Mom            0.0094     0.0014     6.4984     0.0000      0.0066      0.0123
==============================================================================

Covariance estimator:
HeteroskedasticCovariance
See full_summary for complete results
</pre></div></div>
</div>






                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../introduction.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="formulas.html" class="md-footer__link md-footer__link--next" aria-label="Next: Using Formulas" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using Formulas
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2021, Kevin Sheppard.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    6.2.1.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/bashtage/linearmodels" target="_blank" rel="noopener" title="Source on github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://pypi.org/project/linearmodels/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://doi.org/10.5281/zenodo.2591973" target="_blank" rel="noopener" title="doi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": [{"aliases": [], "title": "Release", "version": "https://bashtage.github.io/linearmodels/"}, {"aliases": [], "title": "Development", "version": "https://bashtage.github.io/linearmodels/devel/"}], "versionPath": null}}</script>
    
      
        <script src="../../_static/sphinx_immaterial_theme.cea6a0c1d5b0618cf.min.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
  </body>
</html>